"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6845],{43632:(t,i,e)=>{e.d(i,{Z:()=>r});var n=e(94015),a=e.n(n),o=e(23645),s=e.n(o)()(a());s.push([t.id,"input[type=file][data-v-43aa721e]{cursor:pointer;height:0;opacity:0;position:absolute;width:100%}","",{version:3,sources:["webpack://./resources/js/components/UploadFile.vue"],names:[],mappings:"AAuGA,kCAKA,cAAA,CAFA,QAAA,CAFA,SAAA,CAGA,iBAAA,CAFA,UAIA",sourcesContent:["<template>\r\n    <div class=\"position-relative\">\r\n        <input type=\"file\" :ref=\"'upload'+id\" :multiple=\"multiple\" v-on:change=\"handleFile()\"/>\r\n        <slot name=\"upload_button\">\r\n            <button :class=\"upload_button_class\" @click=\"startUpload\" :disabled=\"disabled\">\r\n                <slot name=\"upload_button_inner\">\r\n                    <bkt-icon name=\"Clip\" color=\"primary\" class=\"bkt-button__icon\"></bkt-icon>\r\n                    прикрепить файл\r\n                </slot>\r\n            </button>\r\n        </slot>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"UploadFile\",\r\n        props: {\r\n            file: {},\r\n            id: {\r\n                type: String,\r\n                default: ''\r\n            },\r\n            upload_button_class: {\r\n                type: String,\r\n                default: 'bkt-button-link p-0'\r\n            },\r\n            multiple: {\r\n                type: Boolean,\r\n                default: true\r\n            },\r\n            disabled: {\r\n                type: Boolean,\r\n                default: false\r\n            }\r\n        },\r\n        model: {\r\n            prop: 'file',\r\n            event: 'change'\r\n        },\r\n        data() {\r\n            return {\r\n                upload_files: []\r\n            }\r\n        },\r\n        methods: {\r\n            removeFile(key) {\r\n                this.$emit('removeFile', this.upload_files[key]);\r\n                this.upload_files.splice(key, 1);\r\n                this.$emit('change', this.upload_files);\r\n            },\r\n            clear() {\r\n                this.$refs['upload'+this.id].value = '';\r\n            },\r\n            handleFile() {\r\n                let uploadedFiles = this.$refs['upload'+this.id].files;\r\n                for (let i = 0; i < uploadedFiles.length; i++) {\r\n                    if (/\\.(jpe?g|png|bmp|pdf|doc|docx)$/i.test(uploadedFiles[i].name)) {\r\n                        uploadedFiles[i].fileType = 'file';\r\n                        if(/\\.(jpe?g|png|bmp)$/i.test(uploadedFiles[i].name))\r\n                        {\r\n                            uploadedFiles[i].fileType = 'image';\r\n                        }\r\n                        uploadedFiles[i].file_size = this.formatBytes(uploadedFiles[i].size);\r\n                        if(this.multiple) {\r\n                            this.upload_files.push(uploadedFiles[i]);\r\n                            this.$emit('change', this.upload_files);\r\n                        }\r\n                        else {\r\n                            this.$emit('change', uploadedFiles[0]);\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            startUpload() {\r\n                // this.$emit('start-upload')\r\n                this.$refs['upload'+this.id].click();\r\n            },\r\n            formatBytes(bytes, decimals = 2) {\r\n                if (bytes === 0) return '0 Bytes';\r\n\r\n                const k = 1024;\r\n                const dm = decimals < 0 ? 0 : decimals;\r\n                const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\r\n\r\n                const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n\r\n                return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\r\n            }\r\n        }\r\n    }\r\n<\/script>\r\n\r\n<style scoped>\r\n    input[type=\"file\"] {\r\n        opacity: 0;\r\n        width: 100%;\r\n        height: 0;\r\n        position: absolute;\r\n        cursor: pointer;\r\n    }\r\n</style>\r\n"],sourceRoot:""}]);const r=s},86852:(t,i,e)=>{e.d(i,{Z:()=>a});const n={name:"BktSwitch",props:{value:{type:[Boolean,Number],default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{}},mounted:function(){},computed:{model:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:{saveValue:function(){this.$emit("input",this.model)}}};const a=(0,e(51900).Z)(n,(function(){var t=this,i=t._self._c;return i("label",{staticClass:"bkt-switch"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{type:"checkbox",disabled:t.disabled},domProps:{checked:Array.isArray(t.model)?t._i(t.model,null)>-1:t.model},on:{change:function(i){var e=t.model,n=i.target,a=!!n.checked;if(Array.isArray(e)){var o=t._i(e,null);n.checked?o<0&&(t.model=e.concat([null])):o>-1&&(t.model=e.slice(0,o).concat(e.slice(o+1)))}else t.model=a}}}),t._v(" "),i("span",{staticClass:"bkt-slider"})])}),[],!1,null,"46929c16",null).exports},39399:(t,i,e)=>{e.d(i,{Z:()=>l});const n={name:"UploadFile",props:{file:{},id:{type:String,default:""},upload_button_class:{type:String,default:"bkt-button-link p-0"},multiple:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},model:{prop:"file",event:"change"},data:function(){return{upload_files:[]}},methods:{removeFile:function(t){this.$emit("removeFile",this.upload_files[t]),this.upload_files.splice(t,1),this.$emit("change",this.upload_files)},clear:function(){this.$refs["upload"+this.id].value=""},handleFile:function(){for(var t=this.$refs["upload"+this.id].files,i=0;i<t.length;i++)/\.(jpe?g|png|bmp|pdf|doc|docx)$/i.test(t[i].name)&&(t[i].fileType="file",/\.(jpe?g|png|bmp)$/i.test(t[i].name)&&(t[i].fileType="image"),t[i].file_size=this.formatBytes(t[i].size),this.multiple?(this.upload_files.push(t[i]),this.$emit("change",this.upload_files)):this.$emit("change",t[0]))},startUpload:function(){this.$refs["upload"+this.id].click()},formatBytes:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===t)return"0 Bytes";var e=1024,n=i<0?0:i,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,o)).toFixed(n))+" "+a[o]}}};var a=e(93379),o=e.n(a),s=e(43632),r={insert:"head",singleton:!1};o()(s.Z,r);s.Z.locals;const l=(0,e(51900).Z)(n,(function(){var t=this,i=t._self._c;return i("div",{staticClass:"position-relative"},[i("input",{ref:"upload"+t.id,attrs:{type:"file",multiple:t.multiple},on:{change:function(i){return t.handleFile()}}}),t._v(" "),t._t("upload_button",(function(){return[i("button",{class:t.upload_button_class,attrs:{disabled:t.disabled},on:{click:t.startUpload}},[t._t("upload_button_inner",(function(){return[i("bkt-icon",{staticClass:"bkt-button__icon",attrs:{name:"Clip",color:"primary"}}),t._v("\n                прикрепить файл\n            ")]}))],2)]}))],2)}),[],!1,null,"43aa721e",null).exports},53837:(t,i,e)=>{e.r(i),e.d(i,{default:()=>k});const n={name:"ContactTab",components:{BktEditContactModal:e(52889).Z},data:function(){return{edit_user:{email:"",middle_name:"",name:"",phone:"",lastName:""},loading:!1,email_change_loading:!1,phone_change_loading:!1}},mounted:function(){this.isLoggedIn&&(this.edit_user=JSON.parse(JSON.stringify(this.user)),this.edit_user.changeCredentialsProcess&&(this.status[this.edit_user.changeCredentialsProcess.newValueType]="изменится на "+this.edit_user.changeCredentialsProcess.newValue+" "+this.$moment(this.edit_user.changeCredentialsProcess.dateOfChange).format("DD MMMM YYYY HH:mm")))},computed:{user:function(){return this.$store.getters.auth_user},isLoggedIn:function(){return this.$store.getters.isLoggedIn},status:function(){var t={email:"",phone:""};return this.user.changeCredentialsProcess&&(t[this.user.changeCredentialsProcess.newValueType]="изменится на "+this.user.changeCredentialsProcess.newValue+" "+this.$moment(this.user.changeCredentialsProcess.dateOfChange).format("DD MMMM YYYY HH:mm")),t}},methods:{editContact:function(t){this.$refs.editContact.setType(t),this.$store.commit("openModal","#editContactModal")},cancelChange:function(t){var i=this;this[t+"_change_loading"]=!0,this.$store.dispatch("deleteCredentialsProcess",this.user.changeCredentialsProcess.changeCredentialsProcessId).then((function(e){i.$store.dispatch("saveDataProperty",{module_key:"auth",state_key:"auth_user",key:"changeCredentialsProcess",value:null},{root:!0}),i[t+"_change_loading"]=!1,i.$store.dispatch("sendNotification",{message:"Изменение успешно отменено"})})).catch((function(e){i[t+"_change_loading"]=!1,i.$store.dispatch("sendNotification",{message:"Произошла ошибка",type:"error"})}))}}};var a=e(51900);const o=(0,a.Z)(n,(function(){var t=this,i=t._self._c;return i("div",{staticClass:"bkt-wrapper-column bkt-gap-large bkt-profile-gap"},[i("div",{staticClass:"bkt-card bkt-card__body bkt-gap-row-medium"},[i("h3",{staticClass:"bkt-card__title"},[t._v("Ваша электронная почта")]),t._v(" "),i("div",{staticClass:"bkt-form bkt-gap-down-sm-row-medium align-items-end"},[i("div",{staticClass:"col-12 col-md-8"},[i("bkt-input",{attrs:{name:"email",type:"email",rules:"required|email",placeholder:"pochta@gmail.com",icon_name:"Email",icon_color:"primary",disabled:"",status:t.status.email,status_class:"bkt-text-primary"},model:{value:t.user.email,callback:function(i){t.$set(t.user,"email",i)},expression:"user.email"}})],1),t._v(" "),i("div",{staticClass:"col-12 col-md-4"},[t.status.email?t._e():i("button",{staticClass:"bkt-button primary bkt-button_plump float-end bkt-w-down-sm-100",on:{click:function(i){return t.editContact("email")}}},[t._v("\n                    "+t._s(t.user.email?"Изменить":"Привязать")+"\n                    "+t._s(t.user.email&&t.status.email?"Отменить изменение":"")+"\n                ")]),t._v(" "),t.status.email?i("button",{staticClass:"bkt-button primary bkt-button_plump float-end bkt-w-down-sm-100",attrs:{disabled:t.email_change_loading},on:{click:function(i){return t.cancelChange("email")}}},[t.email_change_loading?i("span",{staticClass:"spinner-border spinner-border-sm flex-shrink-0",attrs:{role:"status"}}):t._e(),t._v("\n                    Отменить изменение\n                ")]):t._e()])])]),t._v(" "),i("div",{staticClass:"bkt-card bkt-card__body bkt-gap-row-medium"},[i("h3",{staticClass:"bkt-card__title"},[t._v("Ваш номер телефона")]),t._v(" "),i("div",{staticClass:"bkt-form bkt-gap-down-sm-row-medium"},[i("div",{staticClass:"col-12 col-md-8"},[i("bkt-input",{attrs:{name:"phone",type:"tel",rules:"required|phone",placeholder:"+7 495 000-00-00",icon_name:"Smartphone",icon_color:"primary",mask:["+# ### ### ####","+## ### ### ####","+## ### #### ####"],disabled:"",status:t.status.phone,status_class:"bkt-text-primary"},model:{value:t.user.phone,callback:function(i){t.$set(t.user,"phone",i)},expression:"user.phone"}})],1),t._v(" "),i("div",{staticClass:"col-12 col-md-4"},[t.status.phone?t._e():i("button",{staticClass:"bkt-button primary bkt-button_plump float-end bkt-w-down-sm-100",on:{click:function(i){return t.editContact("phone")}}},[t._v("\n                    "+t._s(t.user.phone?"Изменить":"Привязать")+"\n                ")]),t._v(" "),t.status.phone?i("button",{staticClass:"bkt-button primary bkt-button_plump float-end bkt-w-down-sm-100",attrs:{disabled:t.phone_change_loading},on:{click:function(i){return t.cancelChange("phone")}}},[t.phone_change_loading?i("span",{staticClass:"spinner-border spinner-border-sm flex-shrink-0",attrs:{role:"status"}}):t._e(),t._v("\n                    Отменить изменение\n                ")]):t._e()])])]),t._v(" "),i("bkt-edit-contact-modal",{ref:"editContact"})],1)}),[],!1,null,"03c8bff2",null).exports,s={name:"ProfileTab",components:{ContactsTab:o},data:function(){return{passwords:{grantType:"email",newPassword:"",oldPassword:"",submitNewPassword:"",code:""},passwords_types:{newPassword:"password",oldPassword:"password",submitNewPassword:"password"},code_loading:!1,edit_user:{email:"",middle_name:"",name:"",phone:"",lastName:""},edit_user_mode:!1,loading:!1,password_loading:!1,edit_password_mode:!1,grantTypes:[{title:"Email",value:"email"},{title:"Телефон",value:"phone"}]}},mounted:function(){this.isLoggedIn&&(this.edit_user=JSON.parse(JSON.stringify(this.user)))},computed:{user:function(){return this.$store.getters.auth_user},isLoggedIn:function(){return this.$store.getters.isLoggedIn}},methods:{sendCode:function(){var t=this,i={};i.grantType=this.passwords.grantType;var e="";"email"===this.passwords.grantType?(i.email=this.edit_user.email,e="На указанную почту отправлено письмо с кодом подтверждения"):(i.phone=this.edit_user.phone,e="На указанный номер телефона отправлено смс с кодом подтверждения"),this.code_loading=!0,this.$store.dispatch("getPasswordCode",i).then((function(i){t.code_loading=!1,t.$store.dispatch("sendNotification",{self:t,message:e})})).catch((function(i){t.code_loading=!1}))},changePassword:function(){var t=this;this.password_loading=!0;var i=this.passwords;"email"===this.passwords.grantType?i.email=this.edit_user.email:i.phone=this.edit_user.phone,this.$store.dispatch("changePassword",i).then((function(i){t.password_loading=!1,t.$store.dispatch("sendNotification",{self:t,message:"Пароль успешно изменен"}),requestAnimationFrame((function(){t.$refs.change_password&&t.$refs.change_password.reset(),t.$refs.verify_password&&t.$refs.verify_password.reset()})),t.edit_password_mode=!1,t.edit_user=JSON.parse(JSON.stringify(t.user)),t.passwords={grantType:"email",newPassword:"",oldPassword:"",submitNewPassword:"",code:""}})).catch((function(i){t.password_loading=!1}))},save:function(){var t=this;this.loading=!0,this.$store.dispatch("updateAuthUser",this.edit_user).then((function(i){t.loading=!1,t.$store.dispatch("sendNotification",{self:t,message:"Ваши данные успешно обновлены"}),t.cancel()})).catch((function(i){t.loading=!1}))},cancel:function(){this.edit_user_mode=!1,this.edit_user=JSON.parse(JSON.stringify(this.user))},switchVisibility:function(t){this.passwords_types[t]="password"===this.passwords_types[t]?"text":"password"}}};const r=(0,a.Z)(s,(function(){var t=this,i=t._self._c;return i("div",{staticClass:"bkt-form wide bkt-gap-row-large bkt-profile-gap"},[i("div",{staticClass:"col-12 col-lg-6 bkt-form__offset-right"},[i("div",{staticClass:"bkt-card"},[i("ValidationObserver",{staticClass:"bkt-card__body bkt-gap-down-sm-row-large",attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.invalid;return[i("h3",{staticClass:"bkt-card__title"},[t._v("Ваши данные")]),t._v(" "),i("bkt-input",{attrs:{name:"lastName",type:"text",rules:"required|alpha|min:2",label:"фамилия",placeholder:"Иванов",disabled:!t.edit_user_mode,no_group_item:""},model:{value:t.edit_user.lastName,callback:function(i){t.$set(t.edit_user,"lastName",i)},expression:"edit_user.lastName"}}),t._v(" "),i("bkt-input",{attrs:{name:"name",type:"text",rules:"required|alpha|min:2",label:"имя",placeholder:"Иван",disabled:!t.edit_user_mode,no_group_item:""},model:{value:t.edit_user.name,callback:function(i){t.$set(t.edit_user,"name",i)},expression:"edit_user.name"}}),t._v(" "),i("bkt-input",{attrs:{name:"middleName",type:"text",rules:"alpha|min:2",label:"отчество",placeholder:"Петрович",disabled:!t.edit_user_mode,no_group_item:""},model:{value:t.edit_user.middleName,callback:function(i){t.$set(t.edit_user,"middleName",i)},expression:"edit_user.middleName"}}),t._v(" "),i("div",{staticClass:"bkt-card__footer bkt-wrapper-between"},[t.edit_user_mode?i("button",{staticClass:"bkt-button bkt-button_delete",attrs:{type:"button",disabled:t.loading},on:{click:t.cancel}},[i("bkt-icon",{attrs:{name:"Cancel",width:"22px",height:"22px",color:"red"}})],1):t._e(),t._v(" "),t.edit_user_mode?i("button",{staticClass:"bkt-button bkt-button_save",attrs:{type:"button",disabled:n||t.loading},on:{click:t.save}},[t.loading?i("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}}):t._e(),t._v("\n                            Сохранить\n                        ")]):t._e(),t._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:!t.edit_user_mode,expression:"!edit_user_mode"}],staticClass:"bkt-button next ms-auto",attrs:{type:"button",disabled:n||t.loading},on:{click:function(i){t.edit_user_mode=!0}}},[t._v("\n                            Редактировать\n                            "),i("bkt-icon",{attrs:{name:"ArrowDown"}})],1)])]}}])})],1)]),t._v(" "),i("div",{staticClass:"px-0 col-12 col-lg-6"},[i("div",{staticClass:"bkt-card"},[i("ValidationObserver",{directives:[{name:"show",rawName:"v-show",value:!t.edit_password_mode,expression:"!edit_password_mode"}],ref:"change_password",staticClass:"bkt-card__body bkt-gap-down-sm-row-large",attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.invalid;return[i("h3",{staticClass:"bkt-card__title"},[t._v("Смена пароля")]),t._v(" "),i("bkt-input",{attrs:{name:"old_password",type:t.passwords_types.oldPassword,label:"старый пароль",rules:"required|min:8",group_item_action:""},on:{"click-group-item":function(i){return t.switchVisibility("oldPassword")}},scopedSlots:t._u([{key:"icon",fn:function(){return[i("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 516.000000 404.000000",width:"100%",height:"18px"}},[i("g",{attrs:{transform:"translate(0.000000,404.000000) scale(0.100000,-0.100000)",fill:"#2953ff",stroke:"none"}},[i("path",{attrs:{d:"M2295 4020 c-138 -17 -272 -42 -402 -76 -652 -168 -1237 -609 -1667\n                                    -1258 -98 -148 -159 -276 -193 -403 -24 -87 -27 -116 -27 -263 0 -147 3 -176\n                                    27 -263 47 -177 161 -379 348 -619 352 -453 761 -767 1244 -956 322 -126 641\n                                    -178 1025 -169 250 6 363 20 580 73 188 46 330 98 515 189 462 227 868 596\n                                    1189 1079 98 148 159 276 193 403 24 87 27 116 27 263 0 147 -3 176 -27 263\n                                    -34 127 -95 255 -193 403 -328 495 -744 869 -1217 1094 -226 108 -479 185\n                                    -737 226 -121 19 -571 28 -685 14z m456 -461 c453 -36 855 -199 1224 -496 193\n                                    -156 417 -405 568 -633 115 -173 147 -263 147 -410 0 -149 -31 -234 -146 -408\n                                    -311 -466 -718 -811 -1169 -990 -429 -170 -932 -195 -1385 -68 -532 148 -1015\n                                    520 -1374 1058 -115 174 -146 259 -146 408 0 149 31 234 146 408 395 593 934\n                                    978 1534 1096 215 42 386 52 601 35z"}}),t._v(" "),i("path",{attrs:{d:"M2458 3100 c-790 -100 -1213 -962 -806 -1644 91 -153 247 -301 409\n                                    -390 295 -162 667 -173 977 -30 208 95 389 267 500 474 141 262 166 593 65\n                                    875 -107 298 -344 539 -638 650 -149 57 -360 84 -507 65z m322 -495 c183 -67\n                                    316 -198 385 -385 25 -66 29 -89 29 -195 0 -85 -4 -135 -16 -171 -92 -288\n                                    -344 -467 -633 -451 -250 15 -460 174 -551 417 -24 66 -28 89 -28 195 0 85 4\n                                    135 16 171 56 176 175 316 332 391 53 26 82 36 171 57 11 3 65 3 120 1 77 -2\n                                    117 -9 175 -30z"}})])])]},proxy:!0}],null,!0),model:{value:t.passwords.oldPassword,callback:function(i){t.$set(t.passwords,"oldPassword",i)},expression:"passwords.oldPassword"}}),t._v(" "),i("bkt-input",{attrs:{name:"password",type:t.passwords_types.newPassword,label:"новый пароль",rules:"required|min:8",group_item_action:""},on:{"click-group-item":function(i){return t.switchVisibility("newPassword")}},scopedSlots:t._u([{key:"icon",fn:function(){return[i("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 516.000000 404.000000",width:"100%",height:"18px"}},[i("g",{attrs:{transform:"translate(0.000000,404.000000) scale(0.100000,-0.100000)",fill:"#2953ff",stroke:"none"}},[i("path",{attrs:{d:"M2295 4020 c-138 -17 -272 -42 -402 -76 -652 -168 -1237 -609 -1667\n                                    -1258 -98 -148 -159 -276 -193 -403 -24 -87 -27 -116 -27 -263 0 -147 3 -176\n                                    27 -263 47 -177 161 -379 348 -619 352 -453 761 -767 1244 -956 322 -126 641\n                                    -178 1025 -169 250 6 363 20 580 73 188 46 330 98 515 189 462 227 868 596\n                                    1189 1079 98 148 159 276 193 403 24 87 27 116 27 263 0 147 -3 176 -27 263\n                                    -34 127 -95 255 -193 403 -328 495 -744 869 -1217 1094 -226 108 -479 185\n                                    -737 226 -121 19 -571 28 -685 14z m456 -461 c453 -36 855 -199 1224 -496 193\n                                    -156 417 -405 568 -633 115 -173 147 -263 147 -410 0 -149 -31 -234 -146 -408\n                                    -311 -466 -718 -811 -1169 -990 -429 -170 -932 -195 -1385 -68 -532 148 -1015\n                                    520 -1374 1058 -115 174 -146 259 -146 408 0 149 31 234 146 408 395 593 934\n                                    978 1534 1096 215 42 386 52 601 35z"}}),t._v(" "),i("path",{attrs:{d:"M2458 3100 c-790 -100 -1213 -962 -806 -1644 91 -153 247 -301 409\n                                    -390 295 -162 667 -173 977 -30 208 95 389 267 500 474 141 262 166 593 65\n                                    875 -107 298 -344 539 -638 650 -149 57 -360 84 -507 65z m322 -495 c183 -67\n                                    316 -198 385 -385 25 -66 29 -89 29 -195 0 -85 -4 -135 -16 -171 -92 -288\n                                    -344 -467 -633 -451 -250 15 -460 174 -551 417 -24 66 -28 89 -28 195 0 85 4\n                                    135 16 171 56 176 175 316 332 391 53 26 82 36 171 57 11 3 65 3 120 1 77 -2\n                                    117 -9 175 -30z"}})])])]},proxy:!0}],null,!0),model:{value:t.passwords.newPassword,callback:function(i){t.$set(t.passwords,"newPassword",i)},expression:"passwords.newPassword"}}),t._v(" "),i("bkt-input",{attrs:{name:"confirmation",type:t.passwords_types.submitNewPassword,label:"повторите новый пароль",rules:"required|min:8|confirmed:password",group_item_action:""},on:{"click-group-item":function(i){return t.switchVisibility("submitNewPassword")}},scopedSlots:t._u([{key:"icon",fn:function(){return[i("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 516.000000 404.000000",width:"100%",height:"18px"}},[i("g",{attrs:{transform:"translate(0.000000,404.000000) scale(0.100000,-0.100000)",fill:"#2953ff",stroke:"none"}},[i("path",{attrs:{d:"M2295 4020 c-138 -17 -272 -42 -402 -76 -652 -168 -1237 -609 -1667\n                                    -1258 -98 -148 -159 -276 -193 -403 -24 -87 -27 -116 -27 -263 0 -147 3 -176\n                                    27 -263 47 -177 161 -379 348 -619 352 -453 761 -767 1244 -956 322 -126 641\n                                    -178 1025 -169 250 6 363 20 580 73 188 46 330 98 515 189 462 227 868 596\n                                    1189 1079 98 148 159 276 193 403 24 87 27 116 27 263 0 147 -3 176 -27 263\n                                    -34 127 -95 255 -193 403 -328 495 -744 869 -1217 1094 -226 108 -479 185\n                                    -737 226 -121 19 -571 28 -685 14z m456 -461 c453 -36 855 -199 1224 -496 193\n                                    -156 417 -405 568 -633 115 -173 147 -263 147 -410 0 -149 -31 -234 -146 -408\n                                    -311 -466 -718 -811 -1169 -990 -429 -170 -932 -195 -1385 -68 -532 148 -1015\n                                    520 -1374 1058 -115 174 -146 259 -146 408 0 149 31 234 146 408 395 593 934\n                                    978 1534 1096 215 42 386 52 601 35z"}}),t._v(" "),i("path",{attrs:{d:"M2458 3100 c-790 -100 -1213 -962 -806 -1644 91 -153 247 -301 409\n                                    -390 295 -162 667 -173 977 -30 208 95 389 267 500 474 141 262 166 593 65\n                                    875 -107 298 -344 539 -638 650 -149 57 -360 84 -507 65z m322 -495 c183 -67\n                                    316 -198 385 -385 25 -66 29 -89 29 -195 0 -85 -4 -135 -16 -171 -92 -288\n                                    -344 -467 -633 -451 -250 15 -460 174 -551 417 -24 66 -28 89 -28 195 0 85 4\n                                    135 16 171 56 176 175 316 332 391 53 26 82 36 171 57 11 3 65 3 120 1 77 -2\n                                    117 -9 175 -30z"}})])])]},proxy:!0}],null,!0),model:{value:t.passwords.submitNewPassword,callback:function(i){t.$set(t.passwords,"submitNewPassword",i)},expression:"passwords.submitNewPassword"}}),t._v(" "),i("div",{staticClass:"bkt-card__footer bkt-wrapper-between"},[i("button",{staticClass:"bkt-button next ms-auto",attrs:{type:"button",disabled:n},on:{click:function(i){t.edit_password_mode=!0}}},[t._v("\n                            Далее\n                            "),i("bkt-icon",{attrs:{name:"ArrowDown"}})],1)])]}}])}),t._v(" "),i("ValidationObserver",{directives:[{name:"show",rawName:"v-show",value:t.edit_password_mode,expression:"edit_password_mode"}],ref:"verify_password",staticClass:"bkt-card__body bkt-gap-down-sm-row-large",attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.invalid;return[i("h3",{staticClass:"bkt-card__title"},[t._v("Код подтверждения")]),t._v(" "),i("bkt-select",{staticClass:"w-100",attrs:{reduce:function(t){return t.value},option_label:"title",name:"grantType",options:t.grantTypes,clearable:!1,label_class:"bkt-input__label",label:"способ потверждения",select_class:"w-100"},model:{value:t.passwords.grantType,callback:function(i){t.$set(t.passwords,"grantType",i)},expression:"passwords.grantType"}}),t._v(" "),"email"===t.passwords.grantType?i("bkt-input",{attrs:{name:"edit_email",type:"email",label:"e-mail",rules:"required",placeholder:"pochta@gmail.com",icon_name:"Email",icon_color:"primary"},model:{value:t.edit_user.email,callback:function(i){t.$set(t.edit_user,"email",i)},expression:"edit_user.email"}}):t._e(),t._v(" "),"phone"===t.passwords.grantType?i("bkt-input",{attrs:{name:"edit_phone",type:"tel",label:"номер телефона",rules:"required|phone",placeholder:"+7 495 000-00-00",icon_name:"Smartphone",icon_color:"primary",mask:["+# ### ### ####","+## ### ### ####","+## ### #### ####"]},model:{value:t.edit_user.phone,callback:function(i){t.$set(t.edit_user,"phone",i)},expression:"edit_user.phone"}}):t._e(),t._v(" "),i("bkt-input",{attrs:{name:"code",type:"text",label:"код",rules:"required|digits:6",mask:"######"},scopedSlots:t._u([{key:"group-item-inner",fn:function(){return[i("button",{staticClass:"bkt-button primary bkt-button_code",attrs:{disabled:t.password_loading||t.code_loading},on:{click:t.sendCode}},[t.code_loading?i("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}}):t._e(),t._v("\n                                Выслать код\n                            ")])]},proxy:!0}],null,!0),model:{value:t.passwords.code,callback:function(i){t.$set(t.passwords,"code",i)},expression:"passwords.code"}}),t._v(" "),i("div",{staticClass:"bkt-card__footer bkt-wrapper-between"},[i("button",{staticClass:"bkt-button next me-auto",attrs:{type:"button"},on:{click:function(i){t.edit_password_mode=!1}}},[i("bkt-icon",{staticClass:"bkt-rotate-90",attrs:{name:"ArrowDown"}}),t._v("\n                            Назад\n                        ")],1),t._v(" "),t.edit_password_mode?i("button",{staticClass:"bkt-button primary bkt-button_save",attrs:{disabled:n||t.password_loading||t.code_loading},on:{click:t.changePassword}},[t._v("\n                            Сохранить\n                        ")]):t._e()])]}}])})],1)]),t._v(" "),i("div",{staticClass:"col-12"},[i("contacts-tab")],1)])}),[],!1,null,"82b48a14",null).exports;const l={name:"AboutTab"};const c=(0,a.Z)(l,(function(){this._self._c;return this._m(0)}),[function(){var t=this,i=t._self._c;return i("div",{staticClass:"bkt-card"},[i("div",{staticClass:"bkt-card__body"},[i("div",{staticClass:"bkt-card__title"},[t._v("О сайте lotofond.ru")]),t._v(" "),i("div",{staticClass:"bkt-card__text text-justify"},[i("p",[t._v("\n                Мобильное приложение позволяет:")]),t._v(" "),i("p",[t._v(" - получать и просматривать уведомления;")]),t._v(" "),i("p",[t._v(" - иметь доступ к сведениям об исполнении обязательств по договорам;")]),t._v(" "),i("p",[t._v(" - отслеживать текущее состояние задатка и задолженности;")]),t._v(" "),i("p",[t._v(" - просматривать информацию по арбитражным делам.\n            ")]),t._v(" "),i("p",[t._v("\n                Ключевые особенности:")]),t._v(" "),i("p",[t._v("   - упрощенная авторизация по логину, паролю и sms-коду;")]),t._v(" "),i("p",[t._v("   - удобный доступ к данным персонального раздела;")]),t._v(" "),i("p",[t._v("   - push-уведомления о статусе задатка и задолженности;")]),t._v(" "),i("p",[t._v("   - оперативная связь со структурными подразделениями биржи.\n            ")])])])])}],!1,null,"3f8dd6a5",null).exports;const d={name:"HelpTab",components:{BktCollapse:e(18595).Z},data:function(){return{loading:!1}},computed:{help:function(){return this.$store.getters.help}},mounted:function(){0!==this.help.length&&this.help||this.getHelp()},methods:{getHelp:function(){var t=this;this.loading=!0,this.$store.dispatch("getHelp").then((function(i){t.loading=!1})).catch((function(i){t.loading=!1}))}}};const u=(0,a.Z)(d,(function(){var t=this,i=t._self._c;return i("div",{staticClass:"bkt-wrapper-column"},t._l(t.help,(function(e,n){return i("bkt-collapse",{key:n,attrs:{main_class:"bkt-card bkt-notifications-card",collapse_button_class:"bkt-bg-white",id:"question"+n,loading:t.loading},scopedSlots:t._u([{key:"title",fn:function(){return[i("h4",{staticClass:"bkt-card__title",attrs:{"data-bs-toggle":"collapse","data-bs-target":"#question"+n}},[t._v("\n               "+t._s(e.header)+"\n            ")])]},proxy:!0},{key:"collapse",fn:function(){return[i("p",{staticClass:"bkt-card__text"},[t._v("\n               "+t._s(e.value)+"\n            ")])]},proxy:!0}],null,!0)})})),1)}),[],!1,null,"43f77fe6",null).exports;const p={name:"AskQuestion",components:{BktUploadFile:e(39399).Z},data:function(){return{question:{email:"",question:"",topic:"",files:[]},loading:!1,new_email:!1}},computed:{user:function(){return this.$store.getters.auth_user}},mounted:function(){this.question.email=this.user.email,this.user.email||(this.new_email=!0)},methods:{removeFile:function(t){this.$refs.upload_file.removeFile(t)},sendApplication:function(){var t=this;this.loading=!0;var i=new FormData;i.append("email",this.question.email),i.append("question",this.question.question),i.append("topic",this.question.topic);for(var e=0;e<this.question.files.length;e++)i.append("files[]",this.question.files[e]);axios.post("/api/send/question",i,{headers:{"Content-Type":"multipart/form-data"}}).then((function(i){t.loading=!1,t.$store.dispatch("sendNotification",{self:t,message:"Вопрос успешно отправлен"}),t.question={email:"",question:"",topic:"",files:[]},t.question.email=t.user.email})).catch((function(i){t.loading=!1}))}}};const f=(0,a.Z)(p,(function(){var t=this,i=t._self._c;return i("ValidationObserver",{staticClass:"bkt-card bkt-card__body",attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.invalid;return[i("div",{staticClass:"bkt-form align-items-baseline bkt-gap-down-sm-large"},[i("div",{staticClass:"col-4 ps-md-0 d-none d-md-block"},[i("h5",{staticClass:"bkt-form__label"},[t._v("ваш e-mail")])]),t._v(" "),i("div",{staticClass:"col-12 col-md-8 p-md-0"},[i("bkt-input",{attrs:{name:"email",type:"email",label:"ваш e-mail",rules:"required|email",placeholder:"pochta@gmail.com",label_class:"d-md-none",no_group_item:""},model:{value:t.question.email,callback:function(i){t.$set(t.question,"email",i)},expression:"question.email"}})],1),t._v(" "),i("div",{staticClass:"col-4 ps-md-0 d-none d-md-block"},[i("h5",{staticClass:"bkt-form__label"},[t._v("тема вопроса")])]),t._v(" "),i("div",{staticClass:"col-12 col-md-8 p-md-0"},[i("bkt-input",{attrs:{name:"topic",type:"text",label:"тема вопроса",rules:"required|max:255",placeholder:"",label_class:"d-md-none",no_group_item:""},model:{value:t.question.topic,callback:function(i){t.$set(t.question,"topic",i)},expression:"question.topic"}})],1),t._v(" "),i("div",{staticClass:"col-4 ps-md-0 d-none d-md-block"},[i("h5",{staticClass:"bkt-form__label"},[t._v("текст вопроса")])]),t._v(" "),i("div",{staticClass:"col-12 col-md-8 p-md-0"},[i("bkt-textarea",{attrs:{name:"question",type:"text",label:"текст вопроса",rules:"required|max:255",placeholder:"",label_class:"d-md-none",no_group_item:""},model:{value:t.question.question,callback:function(i){t.$set(t.question,"question",i)},expression:"question.question"}})],1),t._v(" "),i("div",{staticClass:"col-4 ps-md-0 d-none d-md-block"}),t._v(" "),i("div",{staticClass:"col-12 col-md-8 p-md-0"},[i("div",{staticClass:"bkt-tag__list"},t._l(t.question.files,(function(e,n){return i("div",{staticClass:"bkt-tag justify-content-between flex-fill"},[i("span",{staticClass:"bkt-text-truncate"},[t._v(t._s(e.name))]),t._v(" "),i("h6",{staticClass:"bkt-text-neutral"},[t._v(t._s(e.file_size))]),t._v(" "),i("span",{staticClass:"bkt-tag__icon bkt-cursor-pointer",on:{click:function(i){return t.removeFile(n)}}},[i("bkt-icon",{attrs:{name:"Cancel",color:"red",width:"12px",height:"12px"}})],1)])})),0),t._v(" "),i("div",{staticClass:"bkt-card__footer bkt-wrapper-between bkt-gap-large"},[i("bkt-upload-file",{ref:"upload_file",model:{value:t.question.files,callback:function(i){t.$set(t.question,"files",i)},expression:"question.files"}}),t._v(" "),i("button",{staticClass:"bkt-button primary bkt-button_plump bkt-w-sm-100",attrs:{disabled:t.loading||n},on:{click:t.sendApplication}},[t.loading?i("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}}):t._e(),t._v("\n                    Отправить\n                ")])],1)])])]}}])})}),[],!1,null,"6ef1392e",null).exports;function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function b(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?b(Object(e),!0).forEach((function(i){_(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):b(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}function _(t,i,e){return(i=function(t){var i=function(t,i){if("object"!==v(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,i||"default");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"===v(i)?i:String(i)}(i))in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}const h={name:"NotificationsTab",components:{BktSwitch:e(86852).Z},data:function(){return{notifications:{notificationsFromFavourite:!0,notificationsFromMonitoring:!0,notificationsSettings:{favouriteEventStart:1,favouriteEventEnd:1,favouriteApplicationStart:1,favouriteApplicationEnd:1,favouriteResult:1,favouritePriceReduction:1},notificationsToEmail:!1},loading:!1}},mounted:function(){this.isLoggedIn&&(this.notifications.notificationsFromFavourite=this.user.notificationsFromFavourite,this.notifications.notificationsFromMonitoring=this.user.notificationsFromMonitoring,this.notifications.notificationsSettings=this.user.notificationsSettings,this.notifications.notificationsToEmail=this.user.notificationsToEmail)},computed:{user:function(){return this.$store.getters.auth_user},isLoggedIn:function(){return this.$store.getters.isLoggedIn}},methods:{save:function(){var t=this;this.loading=!0;var i=m(m({},this.user),this.notifications);this.$store.dispatch("saveNotificationsSettings",this.notifications).then((function(e){t.loading=!1,t.$store.commit("setAuthUser",i)})).catch((function(i){t.loading=!1}))}}};const g={name:"Profile",components:{ProfileTab:r,AboutTab:c,AskQuestionTab:f,ContactsTab:o,NotificationsTab:(0,a.Z)(h,(function(){var t=this,i=t._self._c;return i("div",{staticClass:"bkt-wrapper-column"},[i("div",{staticClass:"bkt-card bkt-notifications-card"},[i("div",{staticClass:"bkt-wrapper-between align-items-center bkt-nowrap"},[t._m(0),t._v(" "),i("bkt-switch",{on:{input:t.save},model:{value:t.notifications.notificationsFromMonitoring,callback:function(i){t.$set(t.notifications,"notificationsFromMonitoring",i)},expression:"notifications.notificationsFromMonitoring"}})],1)]),t._v(" "),i("div",{staticClass:"bkt-card bkt-notifications-card"},[i("div",{staticClass:"bkt-wrapper-between align-items-center bkt-nowrap"},[t._m(1),t._v(" "),i("bkt-switch",{on:{input:t.save},model:{value:t.notifications.notificationsFromFavourite,callback:function(i){t.$set(t.notifications,"notificationsFromFavourite",i)},expression:"notifications.notificationsFromFavourite"}})],1),t._v(" "),i("div",{staticClass:"bkt-wrapper-column"},[i("h6",{staticClass:"bkt-card__title",class:{"bkt-text-neutral-dark":!t.notifications.notificationsFromFavourite}},[t._v("\n                Начало приёма заявок\n            ")]),t._v(" "),i("bkt-checkbox",{attrs:{label:"не присылать",val:0,name:"favouriteApplicationStart0",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteApplicationStart,callback:function(i){t.$set(t.notifications.notificationsSettings,"favouriteApplicationStart",i)},expression:"notifications.notificationsSettings.favouriteApplicationStart"}}),t._v(" "),i("bkt-checkbox",{attrs:{label:"за 1 день",val:1,name:"favouriteApplicationStart1",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteApplicationStart,callback:function(i){t.$set(t.notifications.notificationsSettings,"favouriteApplicationStart",i)},expression:"notifications.notificationsSettings.favouriteApplicationStart"}}),t._v(" "),i("bkt-checkbox",{attrs:{label:"за 2 дня",val:2,name:"favouriteApplicationStart2",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteApplicationStart,callback:function(i){t.$set(t.notifications.notificationsSettings,"favouriteApplicationStart",i)},expression:"notifications.notificationsSettings.favouriteApplicationStart"}}),t._v(" "),i("bkt-checkbox",{attrs:{label:"за 4 дня",val:4,name:"favouriteApplicationStart3",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteApplicationStart,callback:function(i){t.$set(t.notifications.notificationsSettings,"favouriteApplicationStart",i)},expression:"notifications.notificationsSettings.favouriteApplicationStart"}}),t._v(" "),i("bkt-checkbox",{attrs:{label:"за 7 дней",val:7,name:"favouriteApplicationStart4",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteApplicationStart,callback:function(i){t.$set(t.notifications.notificationsSettings,"favouriteApplicationStart",i)},expression:"notifications.notificationsSettings.favouriteApplicationStart"}}),t._v(" "),i("h6",{staticClass:"bkt-card__title",class:{"bkt-text-neutral-dark":!t.notifications.notificationsFromFavourite}},[t._v("\n                Окончание приёма заявок\n            ")]),t._v(" "),i("bkt-checkbox",{attrs:{label:"не присылать",val:0,name:"favouriteApplicationEnd1",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteApplicationEnd,callback:function(i){t.$set(t.notifications.notificationsSettings,"favouriteApplicationEnd",i)},expression:"notifications.notificationsSettings.favouriteApplicationEnd"}}),t._v(" "),i("bkt-checkbox",{attrs:{label:"за 1 день",val:1,name:"favouriteApplicationEnd1",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteApplicationEnd,callback:function(i){t.$set(t.notifications.notificationsSettings,"favouriteApplicationEnd",i)},expression:"notifications.notificationsSettings.favouriteApplicationEnd"}}),t._v(" "),i("bkt-checkbox",{attrs:{label:"за 2 дня",val:2,name:"favouriteApplicationEnd2",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteApplicationEnd,callback:function(i){t.$set(t.notifications.notificationsSettings,"favouriteApplicationEnd",i)},expression:"notifications.notificationsSettings.favouriteApplicationEnd"}}),t._v(" "),i("bkt-checkbox",{attrs:{label:"за 4 дня",val:4,name:"favouriteApplicationEnd3",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteApplicationEnd,callback:function(i){t.$set(t.notifications.notificationsSettings,"favouriteApplicationEnd",i)},expression:"notifications.notificationsSettings.favouriteApplicationEnd"}}),t._v(" "),i("bkt-checkbox",{attrs:{label:"за 7 дней",val:7,name:"favouriteApplicationEnd4",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteApplicationEnd,callback:function(i){t.$set(t.notifications.notificationsSettings,"favouriteApplicationEnd",i)},expression:"notifications.notificationsSettings.favouriteApplicationEnd"}}),t._v(" "),i("h6",{staticClass:"bkt-card__title",class:{"bkt-text-neutral-dark":!t.notifications.notificationsFromFavourite}},[t._v("\n                Начало проведение торгов\n            ")]),t._v(" "),i("bkt-checkbox",{attrs:{label:"не присылать",val:0,name:"favouriteEventStart1",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteEventStart,callback:function(i){t.$set(t.notifications.notificationsSettings,"favouriteEventStart",i)},expression:"notifications.notificationsSettings.favouriteEventStart"}}),t._v(" "),i("bkt-checkbox",{attrs:{label:"за 1 день",val:1,name:"favouriteEventStart1",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteEventStart,callback:function(i){t.$set(t.notifications.notificationsSettings,"favouriteEventStart",i)},expression:"notifications.notificationsSettings.favouriteEventStart"}}),t._v(" "),i("bkt-checkbox",{attrs:{label:"за 2 дня",val:2,name:"favouriteEventStart2",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteEventStart,callback:function(i){t.$set(t.notifications.notificationsSettings,"favouriteEventStart",i)},expression:"notifications.notificationsSettings.favouriteEventStart"}}),t._v(" "),i("bkt-checkbox",{attrs:{label:"за 4 дня",val:4,name:"favouriteEventStart3",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteEventStart,callback:function(i){t.$set(t.notifications.notificationsSettings,"favouriteEventStart",i)},expression:"notifications.notificationsSettings.favouriteEventStart"}}),t._v(" "),i("bkt-checkbox",{attrs:{label:"за 7 дней",val:7,name:"favouriteEventStart4",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteEventStart,callback:function(i){t.$set(t.notifications.notificationsSettings,"favouriteEventStart",i)},expression:"notifications.notificationsSettings.favouriteEventStart"}}),t._v(" "),i("h6",{staticClass:"bkt-card__title",class:{"bkt-text-neutral-dark":!t.notifications.notificationsFromFavourite}},[t._v("\n                Окончание приёма заявок\n            ")]),t._v(" "),i("bkt-checkbox",{attrs:{label:"не присылать",val:0,name:"favouriteEventEnd1",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteEventEnd,callback:function(i){t.$set(t.notifications.notificationsSettings,"favouriteEventEnd",i)},expression:"notifications.notificationsSettings.favouriteEventEnd"}}),t._v(" "),i("bkt-checkbox",{attrs:{label:"за 1 день",val:1,name:"favouriteEventEnd1",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteEventEnd,callback:function(i){t.$set(t.notifications.notificationsSettings,"favouriteEventEnd",i)},expression:"notifications.notificationsSettings.favouriteEventEnd"}}),t._v(" "),i("bkt-checkbox",{attrs:{label:"за 2 дня",val:2,name:"favouriteEventEnd2",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteEventEnd,callback:function(i){t.$set(t.notifications.notificationsSettings,"favouriteEventEnd",i)},expression:"notifications.notificationsSettings.favouriteEventEnd"}}),t._v(" "),i("bkt-checkbox",{attrs:{label:"за 4 дня",val:4,name:"favouriteEventEnd3",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteEventEnd,callback:function(i){t.$set(t.notifications.notificationsSettings,"favouriteEventEnd",i)},expression:"notifications.notificationsSettings.favouriteEventEnd"}}),t._v(" "),i("bkt-checkbox",{attrs:{label:"за 7 дней",val:7,name:"favouriteEventEnd4",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteEventEnd,callback:function(i){t.$set(t.notifications.notificationsSettings,"favouriteEventEnd",i)},expression:"notifications.notificationsSettings.favouriteEventEnd"}}),t._v(" "),i("h6",{staticClass:"bkt-card__title",class:{"bkt-text-neutral-dark":!t.notifications.notificationsFromFavourite}},[t._v("\n                Новый этап снижения цены\n            ")]),t._v(" "),i("bkt-checkbox",{attrs:{label:"не присылать",val:0,name:"favouritePriceReduction1",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouritePriceReduction,callback:function(i){t.$set(t.notifications.notificationsSettings,"favouritePriceReduction",i)},expression:"notifications.notificationsSettings.favouritePriceReduction"}}),t._v(" "),i("bkt-checkbox",{attrs:{label:"за 1 день",val:1,name:"favouritePriceReduction1",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouritePriceReduction,callback:function(i){t.$set(t.notifications.notificationsSettings,"favouritePriceReduction",i)},expression:"notifications.notificationsSettings.favouritePriceReduction"}}),t._v(" "),i("bkt-checkbox",{attrs:{label:"за 2 дня",val:2,name:"favouritePriceReduction2",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouritePriceReduction,callback:function(i){t.$set(t.notifications.notificationsSettings,"favouritePriceReduction",i)},expression:"notifications.notificationsSettings.favouritePriceReduction"}}),t._v(" "),i("bkt-checkbox",{attrs:{label:"за 4 дня",val:4,name:"favouritePriceReduction3",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouritePriceReduction,callback:function(i){t.$set(t.notifications.notificationsSettings,"favouritePriceReduction",i)},expression:"notifications.notificationsSettings.favouritePriceReduction"}}),t._v(" "),i("bkt-checkbox",{attrs:{label:"за 7 дней",val:7,name:"favouritePriceReduction4",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouritePriceReduction,callback:function(i){t.$set(t.notifications.notificationsSettings,"favouritePriceReduction",i)},expression:"notifications.notificationsSettings.favouritePriceReduction"}})],1)]),t._v(" "),i("div",{staticClass:"bkt-card bkt-notifications-card"},[i("div",{staticClass:"bkt-wrapper-between align-items-center bkt-nowrap"},[t._m(2),t._v(" "),i("bkt-switch",{on:{input:t.save},model:{value:t.notifications.notificationsToEmail,callback:function(i){t.$set(t.notifications,"notificationsToEmail",i)},expression:"notifications.notificationsToEmail"}})],1)])])}),[function(){var t=this,i=t._self._c;return i("div",[i("div",{staticClass:"bkt-card__title"},[t._v("Мониторинг")]),t._v(" "),i("h5",{staticClass:"bkt-card__subtitle"},[t._v("изменение лотов подобранных в разделе “Мониторинг”")])])},function(){var t=this,i=t._self._c;return i("div",[i("div",{staticClass:"bkt-card__title"},[t._v("Избранное")]),t._v(" "),i("h5",{staticClass:"bkt-card__subtitle"},[t._v("изменение лотов подобранных в разделе “Избранное”")])])},function(){var t=this,i=t._self._c;return i("div",[i("div",{staticClass:"bkt-card__title"},[t._v("Оповещения на эл.почту")]),t._v(" "),i("h5",{staticClass:"bkt-card__subtitle"},[t._v("присылать оповещения на Вашу электронную почту")])])}],!1,null,"0dfee53a",null).exports,HelpTab:u},data:function(){return{passwords:{password:"",confirm_password:"",old_password:""},code_loading:!1,tab:"Profile",links:[{icon:"User",code:"Profile",label:"Профиль",color:"primary"},{icon:"Bell",code:"Notifications",label:"Уведомления",color:"green"},{icon:"Information",code:"AskQuestion",label:"Задать вопрос",color:"yellow"},{icon:"Help",code:"Help",label:"Помощь",color:"pink"},{icon:"Alignment",code:"About",label:"О сайте",color:"red"},{path:"/calendar",icon:"Date",code:"Calendar",label:"Календарь",color:"blue"}]}},computed:{user:function(){return this.$store.getters.auth_user},user_loading:function(){return this.$store.getters.auth_user_loading},isLoggedIn:function(){return this.$store.getters.isLoggedIn}},methods:{navigate:function(t){t.path?this.$router.push(t.path):this.tab=t.code}}};const k=(0,a.Z)(g,(function(){var t=this,i=t._self._c;return i("div",{staticClass:"container bkt-page bkt-profile bkt-container"},[i("h1",{staticClass:"bkt-page__title d-md-none"},[t._v("\n        Профиль\n        "),t.isLoggedIn?i("bkt-icon",{staticClass:"ms-1",attrs:{name:"LogOut",color:"red",width:"16px",height:"16px"}}):t._e()],1),t._v(" "),t.isLoggedIn&&!t.user_loading?i("div",{staticClass:"bkt-form wide bkt-profile-gap"},[i("div",{staticClass:"col-12 col-lg-3 bkt-form__offset-right"},[i("div",{staticClass:"bkt-wrapper-sm-column bkt-wrapper-column-reverse bkt-profile-gap"},[i("div",{staticClass:"bkt-card bkt-card__body bkt-sidebar"},[i("ul",{staticClass:"bkt-sidebar__links"},t._l(t.links,(function(e){return i("li",{staticClass:"bkt-sidebar__link",class:[t.tab==e.code?"bkt-bg-"+e.color+"-lighter":""],on:{click:function(i){return t.navigate(e)}}},[i("div",{staticClass:"bkt-sidebar__link-icon",class:[t.tab==e.code?"bkt-bg-"+e.color:"bkt-bg-"+e.color+"-lighter"]},[i("bkt-icon",{attrs:{name:e.icon,color:t.tab==e.code?"white":e.color}})],1),t._v(" "),i("div",{staticClass:"bkt-sidebar__link-label"},[t._v(t._s(e.label))])])})),0)]),t._v(" "),i("div",{staticClass:"bkt-profile-tariff-wrapper"},[i("div",{staticClass:"bkt-card bkt-bg-primary bkt-profile-tariff"},[i("h5",{staticClass:"d-sm-none me-auto"},[t._v(t._s(t.user?t.user.name+" "+t.user.lastName:""))]),t._v(" "),i("div",{staticClass:"bkt-wrapper-between bkt-wrapper-sm-column"},[i("h6",{staticClass:"bkt-card__subtitle"},[t._v("тарифный план")]),t._v(" "),i("h5",{staticClass:"bkt-card__title"},[t._v(t._s(t.user.tariff?t.user.tariff.title:"Базовый"))])]),t._v(" "),i("a",{staticClass:"bkt-button bkt-tariff-button",attrs:{href:"/tariffs"}},[t._v("\n                            Сменить тариф\n                        ")]),t._v(" "),i("div",{staticClass:"bkt-card bkt-card__background-figure-1"}),t._v(" "),i("div",{staticClass:"bkt-card bkt-card__background-figure-2 bkt-bg-primary"})])])])]),t._v(" "),i("div",{staticClass:"p-0 col-12 col-lg-9"},[i(t.tab+"Tab",{tag:"component"})],1)]):t._e(),t._v(" "),t.isLoggedIn||t.user_loading?t._e():i("div",{staticClass:"bkt-shadow-card bkt-shadow-card_primary"},[t._m(0)]),t._v(" "),t.user_loading?i("div",{staticClass:"d-flex w-100 justify-content-center my-5"},[i("div",{staticClass:"spinner-border",staticStyle:{color:"#2953ff","border-width":"2px"},attrs:{role:"status"}})]):t._e()])}),[function(){var t=this,i=t._self._c;return i("div",{staticClass:"bkt-shadow-card__inner bkt-gap-large"},[i("h5",{staticClass:"bkt-card__title bkt-text-white"},[t._v("Войдите или зарегистрируйтесь")]),t._v(" "),i("button",{staticClass:"bkt-button bkt-bg-white bkt-text-primary mx-auto",staticStyle:{"max-width":"320px"},attrs:{"data-bs-toggle":"modal","data-bs-target":"#authModal"}},[t._v("\n                Вход и регистрация\n            ")]),t._v(" "),i("div",{staticClass:"bkt-shadow-card__shadow-1"}),t._v(" "),i("div",{staticClass:"bkt-shadow-card__shadow-2"})])}],!1,null,"346a9faa",null).exports}}]);
//# sourceMappingURL=profile.js.map