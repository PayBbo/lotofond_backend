/*! For license information please see profile.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6845],{2545:(t,e,i)=>{i.d(e,{Z:()=>r});var n=i(4015),o=i.n(n),a=i(3645),s=i.n(a)()(o());s.push([t.id,"input[type=file][data-v-3402fcca]{cursor:pointer;height:0;opacity:0;position:absolute;width:100%}","",{version:3,sources:["webpack://./resources/js/components/UploadFile.vue"],names:[],mappings:"AAmFA,kCAKA,cAAA,CAFA,QAAA,CAFA,SAAA,CAGA,iBAAA,CAFA,UAIA",sourcesContent:["<template>\n    <div class=\"position-relative\">\n        <input type=\"file\" ref=\"upload\" multiple v-on:change=\"handleFile()\"/>\n        <slot name=\"upload_button\">\n            <button :class=\"upload_button_class\" @click=\"startUpload\">\n                <slot name=\"upload_button_inner\">\n                    <bkt-icon name=\"Clip\" color=\"primary\" class=\"bkt-button__icon\"></bkt-icon>\n                    прикрепить файл\n                </slot>\n            </button>\n        </slot>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"UploadFile\",\n        props: {\n            file: {},\n            upload_button_class: {\n                type: String,\n                default: 'bkt-button-link p-0'\n            }\n        },\n        model: {\n            prop: 'file',\n            event: 'change'\n        },\n        data() {\n            return {\n                upload_files: []\n            }\n        },\n        methods: {\n            removeFile(key) {\n                this.$emit('removeFile', this.upload_files[key]);\n                this.upload_files.splice(key, 1);\n                this.$emit('change', this.upload_files);\n            },\n            handleFile() {\n                let uploadedFiles = this.$refs['upload'].files;\n                for (let i = 0; i < uploadedFiles.length; i++) {\n                    if (/\\.(jpe?g|png|bmp|pdf|doc|docx)$/i.test(uploadedFiles[i].name)) {\n                        uploadedFiles[i].fileType = 'file';\n                        if(/\\.(jpe?g|png|bmp)$/i.test(uploadedFiles[i].name))\n                        {\n                            uploadedFiles[i].fileType = 'image';\n                        }\n                        uploadedFiles[i].file_size = this.formatBytes(uploadedFiles[i].size);\n                        this.upload_files.push(uploadedFiles[i]);\n                        this.$emit('change', this.upload_files);\n                    }\n                }\n            },\n            startUpload() {\n                // this.$emit('start-upload')\n                this.$refs.upload.click();\n            },\n            formatBytes(bytes, decimals = 2) {\n                if (bytes === 0) return '0 Bytes';\n\n                const k = 1024;\n                const dm = decimals < 0 ? 0 : decimals;\n                const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n                const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n                return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n            }\n        }\n    }\n<\/script>\n\n<style scoped>\n    input[type=\"file\"] {\n        opacity: 0;\n        width: 100%;\n        height: 0;\n        position: absolute;\n        cursor: pointer;\n    }\n</style>\n"],sourceRoot:""}]);const r=s},6852:(t,e,i)=>{i.d(e,{Z:()=>o});const n={name:"BktSwitch",props:{value:{type:[Boolean,Number],default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{}},mounted:function(){},computed:{model:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:{saveValue:function(){this.$emit("input",this.model)}}};const o=(0,i(1900).Z)(n,(function(){var t=this,e=t._self._c;return e("label",{staticClass:"bkt-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{type:"checkbox",disabled:t.disabled},domProps:{checked:Array.isArray(t.model)?t._i(t.model,null)>-1:t.model},on:{change:function(e){var i=t.model,n=e.target,o=!!n.checked;if(Array.isArray(i)){var a=t._i(i,null);n.checked?a<0&&(t.model=i.concat([null])):a>-1&&(t.model=i.slice(0,a).concat(i.slice(a+1)))}else t.model=o}}}),t._v(" "),e("span",{staticClass:"bkt-slider"})])}),[],!1,null,"46929c16",null).exports},1751:(t,e,i)=>{i.d(e,{Z:()=>c});const n={name:"UploadFile",props:{file:{},upload_button_class:{type:String,default:"bkt-button-link p-0"}},model:{prop:"file",event:"change"},data:function(){return{upload_files:[]}},methods:{removeFile:function(t){this.$emit("removeFile",this.upload_files[t]),this.upload_files.splice(t,1),this.$emit("change",this.upload_files)},handleFile:function(){for(var t=this.$refs.upload.files,e=0;e<t.length;e++)/\.(jpe?g|png|bmp|pdf|doc|docx)$/i.test(t[e].name)&&(t[e].fileType="file",/\.(jpe?g|png|bmp)$/i.test(t[e].name)&&(t[e].fileType="image"),t[e].file_size=this.formatBytes(t[e].size),this.upload_files.push(t[e]),this.$emit("change",this.upload_files))},startUpload:function(){this.$refs.upload.click()},formatBytes:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===t)return"0 Bytes";var i=1024,n=e<0?0:e,o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(t)/Math.log(i));return parseFloat((t/Math.pow(i,a)).toFixed(n))+" "+o[a]}}};var o=i(3379),a=i.n(o),s=i(2545),r={insert:"head",singleton:!1};a()(s.Z,r);s.Z.locals;const c=(0,i(1900).Z)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"position-relative"},[e("input",{ref:"upload",attrs:{type:"file",multiple:""},on:{change:function(e){return t.handleFile()}}}),t._v(" "),t._t("upload_button",(function(){return[e("button",{class:t.upload_button_class,on:{click:t.startUpload}},[t._t("upload_button_inner",(function(){return[e("bkt-icon",{staticClass:"bkt-button__icon",attrs:{name:"Clip",color:"primary"}}),t._v("\n                прикрепить файл\n            ")]}))],2)]}))],2)}),[],!1,null,"3402fcca",null).exports},9158:(t,e,i)=>{i.r(e),i.d(e,{default:()=>x});function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){o=function(){return t};var t={},e=Object.prototype,i=e.hasOwnProperty,a=Object.defineProperty||function(t,e,i){t[e]=i.value},s="function"==typeof Symbol?Symbol:{},r=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function d(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,i){return t[e]=i}}function u(t,e,i,n){var o=e&&e.prototype instanceof v?e:v,s=Object.create(o.prototype),r=new F(n||[]);return a(s,"_invoke",{value:C(t,i,r)}),s}function p(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function v(){}function m(){}function _(){}var b={};d(b,r,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(A([])));g&&g!==e&&i.call(g,r)&&(b=g);var k=_.prototype=v.prototype=Object.create(b);function y(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(a,s,r,c){var l=p(t[a],t,s);if("throw"!==l.type){var d=l.arg,u=d.value;return u&&"object"==n(u)&&i.call(u,"__await")?e.resolve(u.__await).then((function(t){o("next",t,r,c)}),(function(t){o("throw",t,r,c)})):e.resolve(u).then((function(t){d.value=t,r(d)}),(function(t){return o("throw",t,r,c)}))}c(l.arg)}var s;a(this,"_invoke",{value:function(t,i){function n(){return new e((function(e,n){o(t,i,e,n)}))}return s=s?s.then(n,n):n()}})}function C(t,e,i){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return $()}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var r=x(s,i);if(r){if(r===f)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===n)throw n="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n="executing";var c=p(t,e,i);if("normal"===c.type){if(n=i.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(n="completed",i.method="throw",i.arg=c.arg)}}}function x(t,e){var i=e.method,n=t.iterator[i];if(void 0===n)return e.delegate=null,"throw"===i&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==i&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+i+"' method")),f;var o=p(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function F(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function A(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:$}}function $(){return{value:void 0,done:!0}}return m.prototype=_,a(k,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:m,configurable:!0}),m.displayName=d(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,d(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},y(w.prototype),d(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,i,n,o,a){void 0===a&&(a=Promise);var s=new w(u(e,i,n,o),a);return t.isGeneratorFunction(i)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},y(k),d(k,l,"Generator"),d(k,r,(function(){return this})),d(k,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),i=[];for(var n in e)i.push(n);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=A,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(i,n){return s.type="throw",s.arg=t,e.next=i,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var r=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(r&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(r){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),E(i),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var o=n.arg;E(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:A(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),f}},t}function a(t,e,i,n,o,a,s){try{var r=t[a](s),c=r.value}catch(t){return void i(t)}r.done?e(c):Promise.resolve(c).then(n,o)}const s={name:"EditContactModal",data:function(){return{loading:!1,code_loading:!1,verify_loading:!1,contact:{code:"",grantType:"email",haveAccessToOldCredentials:!0,isOldCredentials:!0},email:"",phone:"",code_mode:!1,new_code:!1,edit_user:{}}},computed:{user:function(){return this.$store.getters.auth_user},no_contact:function(){if(!this.contact.haveAccessToOldCredentials)if("email"==this.contact.grantType){if(!this.user.phone)return!0}else if(!this.user.email)return!0;return!1},same_contact:function(){if("phone"==this.contact.grantType){if(this.user.phone===this.phone)return!0}else if(this.user.email===this.email)return!0;return!1},mode:function(){return this.contact.haveAccessToOldCredentials&&this.contact.isOldCredentials?"old":this.contact.haveAccessToOldCredentials&&!this.contact.isOldCredentials?"new":this.contact.haveAccessToOldCredentials||this.contact.isOldCredentials?!this.contact.haveAccessToOldCredentials&&this.contact.isOldCredentials?"new_contact":void 0:"no_contact"}},methods:{setType:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"email";this.edit_user=JSON.parse(JSON.stringify(this.user)),this.contact.grantType=t,this.code_mode=!1,this.new_code=!1,this.edit_user[t]||(this.contact.haveAccessToOldCredentials=!1,this.contact.isOldCredentials=!0),this.edit_user[t]&&(this.contact.haveAccessToOldCredentials=!0,this.contact.isOldCredentials=!0),this.edit_user.email||this.edit_user.phone||(this.contact.haveAccessToOldCredentials=!1,this.contact.isOldCredentials=!1)},sendCode:function(t){var e,i=this;return(e=o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.code_loading=!0,i.loading=!0,i.contact.haveAccessToOldCredentials||("email"===i.contact.grantType&&i.edit_user.email&&!i.edit_user.phone&&(i.contact.isOldCredentials=!1),"phone"===i.contact.grantType&&!i.edit_user.email&&i.edit_user.phone&&(i.contact.isOldCredentials=!1)),(n=JSON.parse(JSON.stringify(i.contact)))[n.grantType]=i[n.grantType],"old"==i.mode&&!1===i.contact.haveAccessToOldCredentials&&(n[n.grantType]=i.user[n.grantType]),"new"==i.mode&&(i.new_code=!0),console.log("mode",i.mode,i[n.grantType],i.email),e.next=10,i.$store.dispatch("getCredentialsCode",n).then((function(e){i.code_loading=!1,i.loading=!1,i.code_mode=!0,"repeat"===t&&i.$store.dispatch("sendNotification",{self:i,message:"Код подтверждения был отправлен повторно"})})).catch((function(t){i.code_loading=!1,i.loading=!1,i.code_mode=!1}));case 10:case"end":return e.stop()}}),e)})),function(){var t=this,i=arguments;return new Promise((function(n,o){var s=e.apply(t,i);function r(t){a(s,n,o,r,c,"next",t)}function c(t){a(s,n,o,r,c,"throw",t)}r(void 0)}))})()},verifyCode:function(){var t=this;this.loading=!0;var e=JSON.parse(JSON.stringify(this.contact));"no_contact"!==this.mode&&(this.code_mode=!0),e[e.grantType]=this[e.grantType],"old"==this.mode&&(e[e.grantType]=this.user[e.grantType]),this.$store.dispatch("verifyCredentialsCode",e).then((function(i){"old"==t.mode?(t.contact.code="",t.contact.haveAccessToOldCredentials=!0,t.contact.isOldCredentials=!1,t.sendCode().then((function(e){t.new_code=!0}))):(t.loading=!1,"no_contact"!==t.mode?(t.$store.dispatch("sendNotification",{self:t,message:"Ваш контакт успешно изменен"}),t.$store.dispatch("saveDataProperty",{module_key:"auth",state_key:"auth_user",key:e.grantType,value:e[e.grantType]},{root:!0})):t.$store.dispatch("sendNotification",{self:t,message:"Ваш контакт будет изменен через 14 дней"}),t.cancel())})).catch((function(e){t.loading=!1}))},back:function(){this.code_mode=!1,this.new_code=!1,this.contact.code="",this.$refs.editContactModal.resetForm(),this.setType(this.contact.grantType)},cancel:function(){this.back(),this.$store.commit("closeModal","#editContactModal")}}};var r=i(1900);const c={name:"ContactTab",components:{BktEditContactModal:(0,r.Z)(s,(function(){var t=this,e=t._self._c;return t.user?e("bkt-modal",{ref:"editContactModal",attrs:{id:"editContactModal",title:"Привязать контакт",modal_class:"bkt-code-modal",loading:t.loading},on:{"close-modal":t.back},scopedSlots:t._u([{key:"body",fn:function(i){i.invalid;return[t.code_mode?t._e():["email"==t.contact.grantType?e("bkt-input",{key:"contact_email",attrs:{name:"contact_email",type:"email",label:"новая эл.почта",field_name:"'новая эл.почта'",rules:"required|email",placeholder:"pochta@gmail.com",no_group_item:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}):t._e(),t._v(" "),"phone"==t.contact.grantType?e("bkt-input",{key:"contact_phone",attrs:{name:"contact_phone",type:"tel",label:"новый номер телефона",field_name:"'новый номер телефона'",rules:"required|phone",placeholder:"+7 495 000-00-00",mask:["+# ### ### ####","+## ### ### ####","+## ### #### ####"],masked:!1,no_group_item:""},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}):t._e(),t._v(" "),t.user[t.contact.grantType]?e("div",{staticClass:"bkt-wrapper-column"},[e("label",{staticClass:"bkt-input__label"},[t._v("\n                    "+t._s("email"==t.contact.grantType?"доступ к старой электронной почте:":"доступ к старому телефону:")+"\n                ")]),t._v(" "),e("div",{staticClass:"d-flex bkt-gap"},[e("bkt-checkbox",{attrs:{type:"radio",name:"access",label:"есть",val:!0},model:{value:t.contact.haveAccessToOldCredentials,callback:function(e){t.$set(t.contact,"haveAccessToOldCredentials",e)},expression:"contact.haveAccessToOldCredentials"}}),t._v(" "),e("bkt-checkbox",{attrs:{type:"radio",name:"access1",label:"нет",val:!1},model:{value:t.contact.haveAccessToOldCredentials,callback:function(e){t.$set(t.contact,"haveAccessToOldCredentials",e)},expression:"contact.haveAccessToOldCredentials"}})],1)]):t._e()],t._v(" "),t.code_mode?[e("div",{staticClass:"bkt-shadow-card",class:t.new_code?"bkt-shadow-card_green":"bkt-shadow-card_blue"},[e("div",{staticClass:"bkt-shadow-card__inner bkt-gap-large"},[t.contact.haveAccessToOldCredentials&&!t.new_code?e("h5",{staticClass:"bkt-card__title bkt-text-white"},[t._v("\n                        Код подтверждения\n                        "+t._s("email"==t.contact.grantType?"вашей старой электронной почты":"вашего старого номера телефона")+"\n                        был отправлен на "+t._s("email"==t.contact.grantType?t.edit_user.email:t.edit_user.phone)+".\n                    ")]):t._e(),t._v(" "),t.contact.haveAccessToOldCredentials&&t.new_code||t.no_contact?e("h5",{staticClass:"bkt-card__title bkt-text-white"},[t._v("\n                        Код подтверждения\n                        "+t._s("email"==t.contact.grantType?"вашей новой электронной почты":"вашего нового номера телефона")+"\n                        был отправлен на "+t._s("email"==t.contact.grantType?t.email:t.phone)+".\n                    ")]):t._e(),t._v(" "),t.no_contact?e("h5",{staticClass:"bkt-card__title bkt-text-white"},[t._v("\n                        После подтверждения операции изменения\n                        "+t._s("email"==t.contact.grantType?"электронной почты":"номера телефона")+"\n                        вступят в силу через 14 дней.\n                    ")]):t._e(),t._v(" "),!t.contact.haveAccessToOldCredentials&&t.contact.isOldCredentials?e("h5",{staticClass:"bkt-card__title bkt-text-white"},[t._v("\n                        Код подтверждения "+t._s("email"==t.contact.grantType?"электронной почты":"номера телефона")+"\n                        был отправлен на "+t._s("email"==t.contact.grantType?t.edit_user.phone:t.edit_user.email)+".\n                    ")]):t._e(),t._v(" "),e("div",{staticClass:"bkt-shadow-card__shadow-1"}),t._v(" "),e("div",{staticClass:"bkt-shadow-card__shadow-2"})])]),t._v(" "),e("bkt-input",{attrs:{name:"contact_code",type:"text",field_name:"код",label:"код",rules:"required|digits:6",mask:"######"},scopedSlots:t._u([{key:"group-item-inner",fn:function(){return[e("button",{staticClass:"bkt-button primary bkt-button_code",attrs:{disabled:t.loading||t.code_loading},on:{click:function(e){return t.sendCode("repeat")}}},[t.code_loading?e("span",{staticClass:"spinner-border spinner-border-sm flex-shrink-0",attrs:{role:"status"}}):t._e(),t._v("\n                        Выслать повторно\n                    ")])]},proxy:!0}],null,!0),model:{value:t.contact.code,callback:function(e){t.$set(t.contact,"code",e)},expression:"contact.code"}})]:t._e()]}},{key:"footer",fn:function(i){var n=i.invalid;return[t.code_mode?t._e():e("button",{staticClass:"bkt-button next ms-auto",attrs:{type:"button",disabled:n||t.same_contact||t.loading||t.code_loading},on:{click:t.sendCode}},[t._v("\n            Далее\n            "),e("bkt-icon",{directives:[{name:"show",rawName:"v-show",value:!t.loading&&!t.code_loading,expression:"!loading && !code_loading"}],attrs:{name:"ArrowDown"}}),t._v(" "),t.loading?e("span",{staticClass:"spinner-border spinner-border-sm bkt-border-primary",attrs:{role:"status"}}):t._e()],1),t._v(" "),t.code_mode?e("button",{staticClass:"bkt-button next me-auto",attrs:{type:"button",disabled:t.loading||t.code_loading},on:{click:t.back}},[e("bkt-icon",{staticClass:"bkt-rotate-90",attrs:{name:"ArrowDown"}}),t._v("\n            Назад\n        ")],1):t._e(),t._v(" "),!t.code_mode||t.new_code||t.no_contact?t._e():e("button",{staticClass:"bkt-button next ms-auto",attrs:{type:"button",disabled:n||t.loading||t.code_loading},on:{click:t.verifyCode}},[t._v("\n            Далее\n            "),e("bkt-icon",{directives:[{name:"show",rawName:"v-show",value:!t.loading&&!t.code_loading,expression:"!loading && !code_loading"}],attrs:{name:"ArrowDown"}}),t._v(" "),t.loading?e("span",{staticClass:"spinner-border spinner-border-sm bkt-border-primary",attrs:{role:"status"}}):t._e()],1),t._v(" "),t.code_mode&&t.new_code?e("button",{staticClass:"bkt-button primary bkt-button_save",attrs:{disabled:n||t.loading||t.code_loading},on:{click:t.verifyCode}},[t.loading?e("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}}):t._e(),t._v("\n            Сохранить\n        ")]):t._e(),t._v(" "),t.code_mode&&t.no_contact?e("button",{staticClass:"bkt-button primary bkt-button_save",attrs:{disabled:n||t.loading},on:{click:t.verifyCode}},[t.loading?e("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}}):t._e(),t._v("\n            Подтвердить\n        ")]):t._e()]}}],null,!1,2195999422)}):t._e()}),[],!1,null,"6be75537",null).exports},data:function(){return{edit_user:{email:"",middle_name:"",name:"",phone:"",lastName:""},loading:!1,status:{email:"",phone:""},email_change_loading:!1,phone_change_loading:!1}},mounted:function(){this.isLoggedIn&&(this.edit_user=JSON.parse(JSON.stringify(this.user)),this.edit_user.changeCredentialsProcess&&(this.status[this.edit_user.changeCredentialsProcess.newValueType]="изменится на "+this.edit_user.changeCredentialsProcess.newValue+" "+this.$moment(this.edit_user.changeCredentialsProcess.dateOfChange).format("DD MMMM YYYY HH:mm")))},computed:{user:function(){return this.$store.getters.auth_user},isLoggedIn:function(){return this.$store.getters.isLoggedIn}},methods:{editContact:function(t){this.$refs.editContact.setType(t),this.$store.commit("openModal","#editContactModal")},cancelChange:function(t){var e=this;this[t+"_change_loading"]=!0,this.$store.dispatch("deleteCredentialsProcess",this.edit_user.changeCredentialsProcess.changeCredentialsProcessId).then((function(i){e.edit_user.changeCredentialsProcess=null,e.status[t]="",e.$store.dispatch("saveDataProperty",{module_key:"auth",state_key:"auth_user",key:"changeCredentialsProcess",value:null},{root:!0}),e[t+"_change_loading"]=!1,e.$store.dispatch("sendNotification",{message:"Изменение успешно отменено"})})).catch((function(i){e[t+"_change_loading"]=!1}))}}};const l=(0,r.Z)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bkt-wrapper-column bkt-gap-large bkt-profile-gap"},[e("div",{staticClass:"bkt-card bkt-card__body bkt-gap-row-medium"},[e("h3",{staticClass:"bkt-card__title"},[t._v("Ваша электронная почта")]),t._v(" "),e("div",{staticClass:"bkt-form bkt-gap-down-sm-row-medium align-items-end"},[e("div",{staticClass:"col-12 col-md-8"},[e("bkt-input",{attrs:{name:"email",type:"email",rules:"required|email",placeholder:"pochta@gmail.com",icon_name:"Email",icon_color:"primary",disabled:"",status:t.status.email,status_class:"bkt-text-primary"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),t._v(" "),e("div",{staticClass:"col-12 col-md-4"},[t.status.email?t._e():e("button",{staticClass:"bkt-button primary bkt-button_plump float-end bkt-w-down-sm-100",on:{click:function(e){return t.editContact("email")}}},[t._v("\n                    "+t._s(t.user.email?"Изменить":"Привязать")+"\n                    "+t._s(t.user.email&&t.status.email?"Отменить изменение":"")+"\n                ")]),t._v(" "),t.status.email?e("button",{staticClass:"bkt-button primary bkt-button_plump float-end bkt-w-down-sm-100",attrs:{disabled:t.email_change_loading},on:{click:function(e){return t.cancelChange("email")}}},[t.email_change_loading?e("span",{staticClass:"spinner-border spinner-border-sm flex-shrink-0",attrs:{role:"status"}}):t._e(),t._v("\n                    Отменить изменение\n                ")]):t._e()])])]),t._v(" "),e("div",{staticClass:"bkt-card bkt-card__body bkt-gap-row-medium"},[e("h3",{staticClass:"bkt-card__title"},[t._v("Ваш номер телефона")]),t._v(" "),e("div",{staticClass:"bkt-form bkt-gap-down-sm-row-medium"},[e("div",{staticClass:"col-12 col-md-8"},[e("bkt-input",{attrs:{name:"phone",type:"tel",rules:"required|phone",placeholder:"+7 495 000-00-00",icon_name:"Smartphone",icon_color:"primary",mask:["+# ### ### ####","+## ### ### ####","+## ### #### ####"],disabled:"",status:t.status.phone,status_class:"bkt-text-primary"},model:{value:t.user.phone,callback:function(e){t.$set(t.user,"phone",e)},expression:"user.phone"}})],1),t._v(" "),e("div",{staticClass:"col-12 col-md-4"},[t.status.phone?t._e():e("button",{staticClass:"bkt-button primary bkt-button_plump float-end bkt-w-down-sm-100",on:{click:function(e){return t.editContact("phone")}}},[t._v("\n                    "+t._s(t.user.phone?"Изменить":"Привязать")+"\n                ")]),t._v(" "),t.status.phone?e("button",{staticClass:"bkt-button primary bkt-button_plump float-end bkt-w-down-sm-100",attrs:{disabled:t.phone_change_loading},on:{click:function(e){return t.cancelChange("phone")}}},[t.phone_change_loading?e("span",{staticClass:"spinner-border spinner-border-sm flex-shrink-0",attrs:{role:"status"}}):t._e(),t._v("\n                    Отменить изменение\n                ")]):t._e()])])]),t._v(" "),e("bkt-edit-contact-modal",{ref:"editContact"})],1)}),[],!1,null,"fbbf9388",null).exports,d={name:"ProfileTab",components:{ContactsTab:l},data:function(){return{passwords:{grantType:"email",newPassword:"",oldPassword:"",submitNewPassword:"",code:""},passwords_types:{newPassword:"password",oldPassword:"password",submitNewPassword:"password"},code_loading:!1,edit_user:{email:"",middle_name:"",name:"",phone:"",lastName:""},edit_user_mode:!1,loading:!1,password_loading:!1,edit_password_mode:!1,grantTypes:[{title:"Email",value:"email"},{title:"Телефон",value:"phone"}]}},mounted:function(){this.isLoggedIn&&(this.edit_user=JSON.parse(JSON.stringify(this.user)))},computed:{user:function(){return this.$store.getters.auth_user},isLoggedIn:function(){return this.$store.getters.isLoggedIn}},methods:{sendCode:function(){var t=this,e={};e.grantType=this.passwords.grantType;var i="";"email"===this.passwords.grantType?(e.email=this.edit_user.email,i="На указанную почту отправлено письмо с кодом подтверждения"):(e.phone=this.edit_user.phone,i="На указанный номер телефона отправлено смс с кодом подтверждения"),this.code_loading=!0,this.$store.dispatch("getPasswordCode",e).then((function(e){t.code_loading=!1,t.$store.dispatch("sendNotification",{self:t,message:i})})).catch((function(e){t.code_loading=!1}))},changePassword:function(){var t=this;this.password_loading=!0;var e=this.passwords;"email"===this.passwords.grantType?e.email=this.edit_user.email:e.phone=this.edit_user.phone,this.$store.dispatch("changePassword",e).then((function(e){t.password_loading=!1,t.$store.dispatch("sendNotification",{self:t,message:"Пароль успешно изменен"}),requestAnimationFrame((function(){t.$refs.change_password&&t.$refs.change_password.reset(),t.$refs.verify_password&&t.$refs.verify_password.reset()})),t.edit_password_mode=!1,t.edit_user=JSON.parse(JSON.stringify(t.user)),t.passwords={grantType:"email",newPassword:"",oldPassword:"",submitNewPassword:"",code:""}})).catch((function(e){t.password_loading=!1}))},save:function(){var t=this;this.loading=!0,this.$store.dispatch("updateAuthUser",this.edit_user).then((function(e){t.loading=!1,t.$store.dispatch("sendNotification",{self:t,message:"Ваши данные успешно обновлены"}),t.cancel()})).catch((function(e){t.loading=!1}))},cancel:function(){this.edit_user_mode=!1,this.edit_user=JSON.parse(JSON.stringify(this.user))},switchVisibility:function(t){this.passwords_types[t]="password"===this.passwords_types[t]?"text":"password"}}};const u=(0,r.Z)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bkt-form wide bkt-gap-row-large bkt-profile-gap"},[e("div",{staticClass:"col-12 col-lg-6 bkt-form__offset-right"},[e("div",{staticClass:"bkt-card"},[e("ValidationObserver",{staticClass:"bkt-card__body bkt-gap-down-sm-row-large",attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(i){var n=i.invalid;return[e("h3",{staticClass:"bkt-card__title"},[t._v("Ваши данные")]),t._v(" "),e("bkt-input",{attrs:{name:"lastName",type:"text",rules:"required|alpha|min:2",label:"фамилия",placeholder:"Иванов",disabled:!t.edit_user_mode,no_group_item:""},model:{value:t.edit_user.lastName,callback:function(e){t.$set(t.edit_user,"lastName",e)},expression:"edit_user.lastName"}}),t._v(" "),e("bkt-input",{attrs:{name:"name",type:"text",rules:"required|alpha|min:2",label:"имя",placeholder:"Иван",disabled:!t.edit_user_mode,no_group_item:""},model:{value:t.edit_user.name,callback:function(e){t.$set(t.edit_user,"name",e)},expression:"edit_user.name"}}),t._v(" "),e("bkt-input",{attrs:{name:"middleName",type:"text",rules:"alpha|min:2",label:"отчество",placeholder:"Петрович",disabled:!t.edit_user_mode,no_group_item:""},model:{value:t.edit_user.middleName,callback:function(e){t.$set(t.edit_user,"middleName",e)},expression:"edit_user.middleName"}}),t._v(" "),e("div",{staticClass:"bkt-card__footer bkt-wrapper-between"},[t.edit_user_mode?e("button",{staticClass:"bkt-button bkt-button_delete",attrs:{type:"button",disabled:t.loading},on:{click:t.cancel}},[e("bkt-icon",{attrs:{name:"Cancel",width:"22px",height:"22px",color:"red"}})],1):t._e(),t._v(" "),t.edit_user_mode?e("button",{staticClass:"bkt-button bkt-button_save",attrs:{type:"button",disabled:n||t.loading},on:{click:t.save}},[t.loading?e("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}}):t._e(),t._v("\n                            Сохранить\n                        ")]):t._e(),t._v(" "),e("button",{directives:[{name:"show",rawName:"v-show",value:!t.edit_user_mode,expression:"!edit_user_mode"}],staticClass:"bkt-button next ms-auto",attrs:{type:"button",disabled:n||t.loading},on:{click:function(e){t.edit_user_mode=!0}}},[t._v("\n                            Редактировать\n                            "),e("bkt-icon",{attrs:{name:"ArrowDown"}})],1)])]}}])})],1)]),t._v(" "),e("div",{staticClass:"px-0 col-12 col-lg-6"},[e("div",{staticClass:"bkt-card"},[e("ValidationObserver",{directives:[{name:"show",rawName:"v-show",value:!t.edit_password_mode,expression:"!edit_password_mode"}],ref:"change_password",staticClass:"bkt-card__body bkt-gap-down-sm-row-large",attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(i){var n=i.invalid;return[e("h3",{staticClass:"bkt-card__title"},[t._v("Смена пароля")]),t._v(" "),e("bkt-input",{attrs:{name:"old_password",type:t.passwords_types.oldPassword,label:"старый пароль",rules:"required|min:8",group_item_action:""},on:{"click-group-item":function(e){return t.switchVisibility("oldPassword")}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 516.000000 404.000000",width:"100%",height:"18px"}},[e("g",{attrs:{transform:"translate(0.000000,404.000000) scale(0.100000,-0.100000)",fill:"#2953ff",stroke:"none"}},[e("path",{attrs:{d:"M2295 4020 c-138 -17 -272 -42 -402 -76 -652 -168 -1237 -609 -1667\n                                    -1258 -98 -148 -159 -276 -193 -403 -24 -87 -27 -116 -27 -263 0 -147 3 -176\n                                    27 -263 47 -177 161 -379 348 -619 352 -453 761 -767 1244 -956 322 -126 641\n                                    -178 1025 -169 250 6 363 20 580 73 188 46 330 98 515 189 462 227 868 596\n                                    1189 1079 98 148 159 276 193 403 24 87 27 116 27 263 0 147 -3 176 -27 263\n                                    -34 127 -95 255 -193 403 -328 495 -744 869 -1217 1094 -226 108 -479 185\n                                    -737 226 -121 19 -571 28 -685 14z m456 -461 c453 -36 855 -199 1224 -496 193\n                                    -156 417 -405 568 -633 115 -173 147 -263 147 -410 0 -149 -31 -234 -146 -408\n                                    -311 -466 -718 -811 -1169 -990 -429 -170 -932 -195 -1385 -68 -532 148 -1015\n                                    520 -1374 1058 -115 174 -146 259 -146 408 0 149 31 234 146 408 395 593 934\n                                    978 1534 1096 215 42 386 52 601 35z"}}),t._v(" "),e("path",{attrs:{d:"M2458 3100 c-790 -100 -1213 -962 -806 -1644 91 -153 247 -301 409\n                                    -390 295 -162 667 -173 977 -30 208 95 389 267 500 474 141 262 166 593 65\n                                    875 -107 298 -344 539 -638 650 -149 57 -360 84 -507 65z m322 -495 c183 -67\n                                    316 -198 385 -385 25 -66 29 -89 29 -195 0 -85 -4 -135 -16 -171 -92 -288\n                                    -344 -467 -633 -451 -250 15 -460 174 -551 417 -24 66 -28 89 -28 195 0 85 4\n                                    135 16 171 56 176 175 316 332 391 53 26 82 36 171 57 11 3 65 3 120 1 77 -2\n                                    117 -9 175 -30z"}})])])]},proxy:!0}],null,!0),model:{value:t.passwords.oldPassword,callback:function(e){t.$set(t.passwords,"oldPassword",e)},expression:"passwords.oldPassword"}}),t._v(" "),e("bkt-input",{attrs:{name:"password",type:t.passwords_types.newPassword,label:"новый пароль",rules:"required|min:8",group_item_action:""},on:{"click-group-item":function(e){return t.switchVisibility("newPassword")}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 516.000000 404.000000",width:"100%",height:"18px"}},[e("g",{attrs:{transform:"translate(0.000000,404.000000) scale(0.100000,-0.100000)",fill:"#2953ff",stroke:"none"}},[e("path",{attrs:{d:"M2295 4020 c-138 -17 -272 -42 -402 -76 -652 -168 -1237 -609 -1667\n                                    -1258 -98 -148 -159 -276 -193 -403 -24 -87 -27 -116 -27 -263 0 -147 3 -176\n                                    27 -263 47 -177 161 -379 348 -619 352 -453 761 -767 1244 -956 322 -126 641\n                                    -178 1025 -169 250 6 363 20 580 73 188 46 330 98 515 189 462 227 868 596\n                                    1189 1079 98 148 159 276 193 403 24 87 27 116 27 263 0 147 -3 176 -27 263\n                                    -34 127 -95 255 -193 403 -328 495 -744 869 -1217 1094 -226 108 -479 185\n                                    -737 226 -121 19 -571 28 -685 14z m456 -461 c453 -36 855 -199 1224 -496 193\n                                    -156 417 -405 568 -633 115 -173 147 -263 147 -410 0 -149 -31 -234 -146 -408\n                                    -311 -466 -718 -811 -1169 -990 -429 -170 -932 -195 -1385 -68 -532 148 -1015\n                                    520 -1374 1058 -115 174 -146 259 -146 408 0 149 31 234 146 408 395 593 934\n                                    978 1534 1096 215 42 386 52 601 35z"}}),t._v(" "),e("path",{attrs:{d:"M2458 3100 c-790 -100 -1213 -962 -806 -1644 91 -153 247 -301 409\n                                    -390 295 -162 667 -173 977 -30 208 95 389 267 500 474 141 262 166 593 65\n                                    875 -107 298 -344 539 -638 650 -149 57 -360 84 -507 65z m322 -495 c183 -67\n                                    316 -198 385 -385 25 -66 29 -89 29 -195 0 -85 -4 -135 -16 -171 -92 -288\n                                    -344 -467 -633 -451 -250 15 -460 174 -551 417 -24 66 -28 89 -28 195 0 85 4\n                                    135 16 171 56 176 175 316 332 391 53 26 82 36 171 57 11 3 65 3 120 1 77 -2\n                                    117 -9 175 -30z"}})])])]},proxy:!0}],null,!0),model:{value:t.passwords.newPassword,callback:function(e){t.$set(t.passwords,"newPassword",e)},expression:"passwords.newPassword"}}),t._v(" "),e("bkt-input",{attrs:{name:"confirmation",type:t.passwords_types.submitNewPassword,label:"повторите новый пароль",rules:"required|min:8|confirmed:password",group_item_action:""},on:{"click-group-item":function(e){return t.switchVisibility("submitNewPassword")}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 516.000000 404.000000",width:"100%",height:"18px"}},[e("g",{attrs:{transform:"translate(0.000000,404.000000) scale(0.100000,-0.100000)",fill:"#2953ff",stroke:"none"}},[e("path",{attrs:{d:"M2295 4020 c-138 -17 -272 -42 -402 -76 -652 -168 -1237 -609 -1667\n                                    -1258 -98 -148 -159 -276 -193 -403 -24 -87 -27 -116 -27 -263 0 -147 3 -176\n                                    27 -263 47 -177 161 -379 348 -619 352 -453 761 -767 1244 -956 322 -126 641\n                                    -178 1025 -169 250 6 363 20 580 73 188 46 330 98 515 189 462 227 868 596\n                                    1189 1079 98 148 159 276 193 403 24 87 27 116 27 263 0 147 -3 176 -27 263\n                                    -34 127 -95 255 -193 403 -328 495 -744 869 -1217 1094 -226 108 -479 185\n                                    -737 226 -121 19 -571 28 -685 14z m456 -461 c453 -36 855 -199 1224 -496 193\n                                    -156 417 -405 568 -633 115 -173 147 -263 147 -410 0 -149 -31 -234 -146 -408\n                                    -311 -466 -718 -811 -1169 -990 -429 -170 -932 -195 -1385 -68 -532 148 -1015\n                                    520 -1374 1058 -115 174 -146 259 -146 408 0 149 31 234 146 408 395 593 934\n                                    978 1534 1096 215 42 386 52 601 35z"}}),t._v(" "),e("path",{attrs:{d:"M2458 3100 c-790 -100 -1213 -962 -806 -1644 91 -153 247 -301 409\n                                    -390 295 -162 667 -173 977 -30 208 95 389 267 500 474 141 262 166 593 65\n                                    875 -107 298 -344 539 -638 650 -149 57 -360 84 -507 65z m322 -495 c183 -67\n                                    316 -198 385 -385 25 -66 29 -89 29 -195 0 -85 -4 -135 -16 -171 -92 -288\n                                    -344 -467 -633 -451 -250 15 -460 174 -551 417 -24 66 -28 89 -28 195 0 85 4\n                                    135 16 171 56 176 175 316 332 391 53 26 82 36 171 57 11 3 65 3 120 1 77 -2\n                                    117 -9 175 -30z"}})])])]},proxy:!0}],null,!0),model:{value:t.passwords.submitNewPassword,callback:function(e){t.$set(t.passwords,"submitNewPassword",e)},expression:"passwords.submitNewPassword"}}),t._v(" "),e("div",{staticClass:"bkt-card__footer bkt-wrapper-between"},[e("button",{staticClass:"bkt-button next ms-auto",attrs:{type:"button",disabled:n},on:{click:function(e){t.edit_password_mode=!0}}},[t._v("\n                            Далее\n                            "),e("bkt-icon",{attrs:{name:"ArrowDown"}})],1)])]}}])}),t._v(" "),e("ValidationObserver",{directives:[{name:"show",rawName:"v-show",value:t.edit_password_mode,expression:"edit_password_mode"}],ref:"verify_password",staticClass:"bkt-card__body bkt-gap-down-sm-row-large",attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(i){var n=i.invalid;return[e("h3",{staticClass:"bkt-card__title"},[t._v("Код подтверждения")]),t._v(" "),e("bkt-select",{staticClass:"w-100",attrs:{reduce:function(t){return t.value},option_label:"title",name:"grantType",options:t.grantTypes,clearable:!1,label_class:"bkt-input__label",label:"способ потверждения",select_class:"w-100"},model:{value:t.passwords.grantType,callback:function(e){t.$set(t.passwords,"grantType",e)},expression:"passwords.grantType"}}),t._v(" "),"email"===t.passwords.grantType?e("bkt-input",{attrs:{name:"edit_email",type:"email",label:"e-mail",rules:"required",placeholder:"pochta@gmail.com",icon_name:"Email",icon_color:"primary"},model:{value:t.edit_user.email,callback:function(e){t.$set(t.edit_user,"email",e)},expression:"edit_user.email"}}):t._e(),t._v(" "),"phone"===t.passwords.grantType?e("bkt-input",{attrs:{name:"edit_phone",type:"tel",label:"номер телефона",rules:"required|phone",placeholder:"+7 495 000-00-00",icon_name:"Smartphone",icon_color:"primary",mask:["+# ### ### ####","+## ### ### ####","+## ### #### ####"]},model:{value:t.edit_user.phone,callback:function(e){t.$set(t.edit_user,"phone",e)},expression:"edit_user.phone"}}):t._e(),t._v(" "),e("bkt-input",{attrs:{name:"code",type:"text",label:"код",rules:"required|digits:6",mask:"######"},scopedSlots:t._u([{key:"group-item-inner",fn:function(){return[e("button",{staticClass:"bkt-button primary bkt-button_code",attrs:{disabled:t.password_loading||t.code_loading},on:{click:t.sendCode}},[t.code_loading?e("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}}):t._e(),t._v("\n                                Выслать код\n                            ")])]},proxy:!0}],null,!0),model:{value:t.passwords.code,callback:function(e){t.$set(t.passwords,"code",e)},expression:"passwords.code"}}),t._v(" "),e("div",{staticClass:"bkt-card__footer bkt-wrapper-between"},[e("button",{staticClass:"bkt-button next me-auto",attrs:{type:"button"},on:{click:function(e){t.edit_password_mode=!1}}},[e("bkt-icon",{staticClass:"bkt-rotate-90",attrs:{name:"ArrowDown"}}),t._v("\n                            Назад\n                        ")],1),t._v(" "),t.edit_password_mode?e("button",{staticClass:"bkt-button primary bkt-button_save",attrs:{disabled:n||t.password_loading||t.code_loading},on:{click:t.changePassword}},[t._v("\n                            Сохранить\n                        ")]):t._e()])]}}])})],1)]),t._v(" "),e("div",{staticClass:"col-12"},[e("contacts-tab")],1)])}),[],!1,null,"6b36eb2a",null).exports;const p={name:"AboutTab"};const f=(0,r.Z)(p,(function(){this._self._c;return this._m(0)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"bkt-card"},[e("div",{staticClass:"bkt-card__body"},[e("div",{staticClass:"bkt-card__title"},[t._v("О сайте lotofond.ru")]),t._v(" "),e("div",{staticClass:"bkt-card__text text-justify"},[e("p",[t._v("\n                Мобильное приложение позволяет:")]),t._v(" "),e("p",[t._v(" - получать и просматривать уведомления;")]),t._v(" "),e("p",[t._v(" - иметь доступ к сведениям об исполнении обязательств по договорам;")]),t._v(" "),e("p",[t._v(" - отслеживать текущее состояние задатка и задолженности;")]),t._v(" "),e("p",[t._v(" - просматривать информацию по арбитражным делам.\n            ")]),t._v(" "),e("p",[t._v("\n                Ключевые особенности:")]),t._v(" "),e("p",[t._v("   - упрощенная авторизация по логину, паролю и sms-коду;")]),t._v(" "),e("p",[t._v("   - удобный доступ к данным персонального раздела;")]),t._v(" "),e("p",[t._v("   - push-уведомления о статусе задатка и задолженности;")]),t._v(" "),e("p",[t._v("   - оперативная связь со структурными подразделениями биржи.\n            ")])])])])}],!1,null,"3f8dd6a5",null).exports;const v={name:"HelpTab",components:{BktCollapse:i(8595).Z},data:function(){return{loading:!1}},computed:{help:function(){return this.$store.getters.help}},mounted:function(){0!==this.help.length&&this.help||this.getHelp()},methods:{getHelp:function(){var t=this;this.loading=!0,this.$store.dispatch("getHelp").then((function(e){t.loading=!1})).catch((function(e){t.loading=!1}))}}};const m=(0,r.Z)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bkt-wrapper-column"},t._l(t.help,(function(i,n){return e("bkt-collapse",{key:n,attrs:{main_class:"bkt-card bkt-notifications-card",collapse_button_class:"bkt-bg-white",id:"question"+n,loading:t.loading},scopedSlots:t._u([{key:"title",fn:function(){return[e("h4",{staticClass:"bkt-card__title",attrs:{"data-bs-toggle":"collapse","data-bs-target":"#question"+n}},[t._v("\n               "+t._s(i.header)+"\n            ")])]},proxy:!0},{key:"collapse",fn:function(){return[e("p",{staticClass:"bkt-card__text"},[t._v("\n               "+t._s(i.value)+"\n            ")])]},proxy:!0}],null,!0)})})),1)}),[],!1,null,"43f77fe6",null).exports;const _={name:"AskQuestion",components:{BktUploadFile:i(1751).Z},data:function(){return{question:{email:"",question:"",topic:"",files:[]},loading:!1,new_email:!1}},computed:{user:function(){return this.$store.getters.auth_user}},mounted:function(){this.question.email=this.user.email,this.user.email||(this.new_email=!0)},methods:{removeFile:function(t){this.$refs.upload_file.removeFile(t)},sendApplication:function(){var t=this;this.loading=!0;var e=new FormData;e.append("email",this.question.email),e.append("question",this.question.question),e.append("topic",this.question.topic);for(var i=0;i<this.question.files.length;i++)e.append("files[]",this.question.files[i]);axios.post("/api/send/question",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.loading=!1,t.$store.dispatch("sendNotification",{self:t,message:"Вопрос успешно отправлен"}),t.question={email:"",question:"",topic:"",files:[]},t.question.email=t.user.email})).catch((function(e){t.loading=!1}))}}};const b=(0,r.Z)(_,(function(){var t=this,e=t._self._c;return e("ValidationObserver",{staticClass:"bkt-card bkt-card__body",attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(i){var n=i.invalid;return[e("div",{staticClass:"bkt-form align-items-baseline bkt-gap-down-sm-large"},[e("div",{staticClass:"col-4 ps-md-0 d-none d-md-block"},[e("h5",{staticClass:"bkt-form__label"},[t._v("ваш e-mail")])]),t._v(" "),e("div",{staticClass:"col-12 col-md-8 p-md-0"},[e("bkt-input",{attrs:{name:"email",type:"email",label:"ваш e-mail",rules:"required|email",placeholder:"pochta@gmail.com",label_class:"d-md-none",no_group_item:""},model:{value:t.question.email,callback:function(e){t.$set(t.question,"email",e)},expression:"question.email"}})],1),t._v(" "),e("div",{staticClass:"col-4 ps-md-0 d-none d-md-block"},[e("h5",{staticClass:"bkt-form__label"},[t._v("тема вопроса")])]),t._v(" "),e("div",{staticClass:"col-12 col-md-8 p-md-0"},[e("bkt-input",{attrs:{name:"topic",type:"text",label:"тема вопроса",rules:"required|max:255",placeholder:"",label_class:"d-md-none",no_group_item:""},model:{value:t.question.topic,callback:function(e){t.$set(t.question,"topic",e)},expression:"question.topic"}})],1),t._v(" "),e("div",{staticClass:"col-4 ps-md-0 d-none d-md-block"},[e("h5",{staticClass:"bkt-form__label"},[t._v("текст вопроса")])]),t._v(" "),e("div",{staticClass:"col-12 col-md-8 p-md-0"},[e("bkt-textarea",{attrs:{name:"question",type:"text",label:"текст вопроса",rules:"required|max:255",placeholder:"",label_class:"d-md-none",no_group_item:""},model:{value:t.question.question,callback:function(e){t.$set(t.question,"question",e)},expression:"question.question"}})],1),t._v(" "),e("div",{staticClass:"col-4 ps-md-0 d-none d-md-block"}),t._v(" "),e("div",{staticClass:"col-12 col-md-8 p-md-0"},[e("div",{staticClass:"bkt-tag__list"},t._l(t.question.files,(function(i,n){return e("div",{staticClass:"bkt-tag justify-content-between flex-fill"},[e("span",{staticClass:"bkt-text-truncate"},[t._v(t._s(i.name))]),t._v(" "),e("h6",{staticClass:"bkt-text-neutral"},[t._v(t._s(i.file_size))]),t._v(" "),e("span",{staticClass:"bkt-tag__icon bkt-cursor-pointer",on:{click:function(e){return t.removeFile(n)}}},[e("bkt-icon",{attrs:{name:"Cancel",color:"red",width:"12px",height:"12px"}})],1)])})),0),t._v(" "),e("div",{staticClass:"bkt-card__footer bkt-wrapper-between bkt-gap-large"},[e("bkt-upload-file",{ref:"upload_file",model:{value:t.question.files,callback:function(e){t.$set(t.question,"files",e)},expression:"question.files"}}),t._v(" "),e("button",{staticClass:"bkt-button primary bkt-button_plump bkt-w-sm-100",attrs:{disabled:t.loading||n},on:{click:t.sendApplication}},[t.loading?e("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}}):t._e(),t._v("\n                    Отправить\n                ")])],1)])])]}}])})}),[],!1,null,"6ef1392e",null).exports;function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function g(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function k(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?g(Object(i),!0).forEach((function(e){y(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function y(t,e,i){return(e=function(t){var e=function(t,e){if("object"!==h(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===h(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}const w={name:"NotificationsTab",components:{BktSwitch:i(6852).Z},data:function(){return{notifications:{notificationsFromFavourite:!0,notificationsFromMonitoring:!0,notificationsSettings:{favouriteEventStart:1,favouriteEventEnd:1,favouriteApplicationStart:1,favouriteApplicationEnd:1,favouriteResult:1,favouritePriceReduction:1},notificationsToEmail:!1},loading:!1}},mounted:function(){this.isLoggedIn&&(this.notifications.notificationsFromFavourite=this.user.notificationsFromFavourite,this.notifications.notificationsFromMonitoring=this.user.notificationsFromMonitoring,this.notifications.notificationsSettings=this.user.notificationsSettings,this.notifications.notificationsToEmail=this.user.notificationsToEmail)},computed:{user:function(){return this.$store.getters.auth_user},isLoggedIn:function(){return this.$store.getters.isLoggedIn}},methods:{save:function(){var t=this;this.loading=!0;var e=k(k({},this.user),this.notifications);this.$store.dispatch("saveNotificationsSettings",this.notifications).then((function(i){t.loading=!1,t.$store.commit("setAuthUser",e)})).catch((function(e){t.loading=!1}))}}};const C={name:"Profile",components:{ProfileTab:u,AboutTab:f,AskQuestionTab:b,ContactsTab:l,NotificationsTab:(0,r.Z)(w,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bkt-wrapper-column"},[e("div",{staticClass:"bkt-card bkt-notifications-card"},[e("div",{staticClass:"bkt-wrapper-between align-items-center bkt-nowrap"},[t._m(0),t._v(" "),e("bkt-switch",{on:{input:t.save},model:{value:t.notifications.notificationsFromMonitoring,callback:function(e){t.$set(t.notifications,"notificationsFromMonitoring",e)},expression:"notifications.notificationsFromMonitoring"}})],1)]),t._v(" "),e("div",{staticClass:"bkt-card bkt-notifications-card"},[e("div",{staticClass:"bkt-wrapper-between align-items-center bkt-nowrap"},[t._m(1),t._v(" "),e("bkt-switch",{on:{input:t.save},model:{value:t.notifications.notificationsFromFavourite,callback:function(e){t.$set(t.notifications,"notificationsFromFavourite",e)},expression:"notifications.notificationsFromFavourite"}})],1),t._v(" "),e("div",{staticClass:"bkt-wrapper-column"},[e("h6",{staticClass:"bkt-card__title",class:{"bkt-text-neutral-dark":!t.notifications.notificationsFromFavourite}},[t._v("\n                Начало приёма заявок\n            ")]),t._v(" "),e("bkt-checkbox",{attrs:{label:"не присылать",val:0,name:"favouriteApplicationStart0",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteApplicationStart,callback:function(e){t.$set(t.notifications.notificationsSettings,"favouriteApplicationStart",e)},expression:"notifications.notificationsSettings.favouriteApplicationStart"}}),t._v(" "),e("bkt-checkbox",{attrs:{label:"за 1 день",val:1,name:"favouriteApplicationStart1",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteApplicationStart,callback:function(e){t.$set(t.notifications.notificationsSettings,"favouriteApplicationStart",e)},expression:"notifications.notificationsSettings.favouriteApplicationStart"}}),t._v(" "),e("bkt-checkbox",{attrs:{label:"за 2 дня",val:2,name:"favouriteApplicationStart2",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteApplicationStart,callback:function(e){t.$set(t.notifications.notificationsSettings,"favouriteApplicationStart",e)},expression:"notifications.notificationsSettings.favouriteApplicationStart"}}),t._v(" "),e("bkt-checkbox",{attrs:{label:"за 4 дня",val:4,name:"favouriteApplicationStart3",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteApplicationStart,callback:function(e){t.$set(t.notifications.notificationsSettings,"favouriteApplicationStart",e)},expression:"notifications.notificationsSettings.favouriteApplicationStart"}}),t._v(" "),e("bkt-checkbox",{attrs:{label:"за 7 дней",val:7,name:"favouriteApplicationStart4",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteApplicationStart,callback:function(e){t.$set(t.notifications.notificationsSettings,"favouriteApplicationStart",e)},expression:"notifications.notificationsSettings.favouriteApplicationStart"}}),t._v(" "),e("h6",{staticClass:"bkt-card__title",class:{"bkt-text-neutral-dark":!t.notifications.notificationsFromFavourite}},[t._v("\n                Окончание приёма заявок\n            ")]),t._v(" "),e("bkt-checkbox",{attrs:{label:"не присылать",val:0,name:"favouriteApplicationEnd1",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteApplicationEnd,callback:function(e){t.$set(t.notifications.notificationsSettings,"favouriteApplicationEnd",e)},expression:"notifications.notificationsSettings.favouriteApplicationEnd"}}),t._v(" "),e("bkt-checkbox",{attrs:{label:"за 1 день",val:1,name:"favouriteApplicationEnd1",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteApplicationEnd,callback:function(e){t.$set(t.notifications.notificationsSettings,"favouriteApplicationEnd",e)},expression:"notifications.notificationsSettings.favouriteApplicationEnd"}}),t._v(" "),e("bkt-checkbox",{attrs:{label:"за 2 дня",val:2,name:"favouriteApplicationEnd2",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteApplicationEnd,callback:function(e){t.$set(t.notifications.notificationsSettings,"favouriteApplicationEnd",e)},expression:"notifications.notificationsSettings.favouriteApplicationEnd"}}),t._v(" "),e("bkt-checkbox",{attrs:{label:"за 4 дня",val:4,name:"favouriteApplicationEnd3",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteApplicationEnd,callback:function(e){t.$set(t.notifications.notificationsSettings,"favouriteApplicationEnd",e)},expression:"notifications.notificationsSettings.favouriteApplicationEnd"}}),t._v(" "),e("bkt-checkbox",{attrs:{label:"за 7 дней",val:7,name:"favouriteApplicationEnd4",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteApplicationEnd,callback:function(e){t.$set(t.notifications.notificationsSettings,"favouriteApplicationEnd",e)},expression:"notifications.notificationsSettings.favouriteApplicationEnd"}}),t._v(" "),e("h6",{staticClass:"bkt-card__title",class:{"bkt-text-neutral-dark":!t.notifications.notificationsFromFavourite}},[t._v("\n                Начало проведение торгов\n            ")]),t._v(" "),e("bkt-checkbox",{attrs:{label:"не присылать",val:0,name:"favouriteEventStart1",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteEventStart,callback:function(e){t.$set(t.notifications.notificationsSettings,"favouriteEventStart",e)},expression:"notifications.notificationsSettings.favouriteEventStart"}}),t._v(" "),e("bkt-checkbox",{attrs:{label:"за 1 день",val:1,name:"favouriteEventStart1",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteEventStart,callback:function(e){t.$set(t.notifications.notificationsSettings,"favouriteEventStart",e)},expression:"notifications.notificationsSettings.favouriteEventStart"}}),t._v(" "),e("bkt-checkbox",{attrs:{label:"за 2 дня",val:2,name:"favouriteEventStart2",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteEventStart,callback:function(e){t.$set(t.notifications.notificationsSettings,"favouriteEventStart",e)},expression:"notifications.notificationsSettings.favouriteEventStart"}}),t._v(" "),e("bkt-checkbox",{attrs:{label:"за 4 дня",val:4,name:"favouriteEventStart3",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteEventStart,callback:function(e){t.$set(t.notifications.notificationsSettings,"favouriteEventStart",e)},expression:"notifications.notificationsSettings.favouriteEventStart"}}),t._v(" "),e("bkt-checkbox",{attrs:{label:"за 7 дней",val:7,name:"favouriteEventStart4",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteEventStart,callback:function(e){t.$set(t.notifications.notificationsSettings,"favouriteEventStart",e)},expression:"notifications.notificationsSettings.favouriteEventStart"}}),t._v(" "),e("h6",{staticClass:"bkt-card__title",class:{"bkt-text-neutral-dark":!t.notifications.notificationsFromFavourite}},[t._v("\n                Окончание приёма заявок\n            ")]),t._v(" "),e("bkt-checkbox",{attrs:{label:"не присылать",val:0,name:"favouriteEventEnd1",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteEventEnd,callback:function(e){t.$set(t.notifications.notificationsSettings,"favouriteEventEnd",e)},expression:"notifications.notificationsSettings.favouriteEventEnd"}}),t._v(" "),e("bkt-checkbox",{attrs:{label:"за 1 день",val:1,name:"favouriteEventEnd1",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteEventEnd,callback:function(e){t.$set(t.notifications.notificationsSettings,"favouriteEventEnd",e)},expression:"notifications.notificationsSettings.favouriteEventEnd"}}),t._v(" "),e("bkt-checkbox",{attrs:{label:"за 2 дня",val:2,name:"favouriteEventEnd2",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteEventEnd,callback:function(e){t.$set(t.notifications.notificationsSettings,"favouriteEventEnd",e)},expression:"notifications.notificationsSettings.favouriteEventEnd"}}),t._v(" "),e("bkt-checkbox",{attrs:{label:"за 4 дня",val:4,name:"favouriteEventEnd3",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteEventEnd,callback:function(e){t.$set(t.notifications.notificationsSettings,"favouriteEventEnd",e)},expression:"notifications.notificationsSettings.favouriteEventEnd"}}),t._v(" "),e("bkt-checkbox",{attrs:{label:"за 7 дней",val:7,name:"favouriteEventEnd4",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouriteEventEnd,callback:function(e){t.$set(t.notifications.notificationsSettings,"favouriteEventEnd",e)},expression:"notifications.notificationsSettings.favouriteEventEnd"}}),t._v(" "),e("h6",{staticClass:"bkt-card__title",class:{"bkt-text-neutral-dark":!t.notifications.notificationsFromFavourite}},[t._v("\n                Новый этап снижения цены\n            ")]),t._v(" "),e("bkt-checkbox",{attrs:{label:"не присылать",val:0,name:"favouritePriceReduction1",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouritePriceReduction,callback:function(e){t.$set(t.notifications.notificationsSettings,"favouritePriceReduction",e)},expression:"notifications.notificationsSettings.favouritePriceReduction"}}),t._v(" "),e("bkt-checkbox",{attrs:{label:"за 1 день",val:1,name:"favouritePriceReduction1",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouritePriceReduction,callback:function(e){t.$set(t.notifications.notificationsSettings,"favouritePriceReduction",e)},expression:"notifications.notificationsSettings.favouritePriceReduction"}}),t._v(" "),e("bkt-checkbox",{attrs:{label:"за 2 дня",val:2,name:"favouritePriceReduction2",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouritePriceReduction,callback:function(e){t.$set(t.notifications.notificationsSettings,"favouritePriceReduction",e)},expression:"notifications.notificationsSettings.favouritePriceReduction"}}),t._v(" "),e("bkt-checkbox",{attrs:{label:"за 4 дня",val:4,name:"favouritePriceReduction3",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouritePriceReduction,callback:function(e){t.$set(t.notifications.notificationsSettings,"favouritePriceReduction",e)},expression:"notifications.notificationsSettings.favouritePriceReduction"}}),t._v(" "),e("bkt-checkbox",{attrs:{label:"за 7 дней",val:7,name:"favouritePriceReduction4",type:"radio",disabled:!t.notifications.notificationsFromFavourite||t.loading},on:{input:t.save},model:{value:t.notifications.notificationsSettings.favouritePriceReduction,callback:function(e){t.$set(t.notifications.notificationsSettings,"favouritePriceReduction",e)},expression:"notifications.notificationsSettings.favouritePriceReduction"}})],1)]),t._v(" "),e("div",{staticClass:"bkt-card bkt-notifications-card"},[e("div",{staticClass:"bkt-wrapper-between align-items-center bkt-nowrap"},[t._m(2),t._v(" "),e("bkt-switch",{on:{input:t.save},model:{value:t.notifications.notificationsToEmail,callback:function(e){t.$set(t.notifications,"notificationsToEmail",e)},expression:"notifications.notificationsToEmail"}})],1)])])}),[function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"bkt-card__title"},[t._v("Мониторинг")]),t._v(" "),e("h5",{staticClass:"bkt-card__subtitle"},[t._v("изменение лотов подобранных в разделе “Мониторинг”")])])},function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"bkt-card__title"},[t._v("Избранное")]),t._v(" "),e("h5",{staticClass:"bkt-card__subtitle"},[t._v("изменение лотов подобранных в разделе “Избранное”")])])},function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"bkt-card__title"},[t._v("Оповещения на эл.почту")]),t._v(" "),e("h5",{staticClass:"bkt-card__subtitle"},[t._v("присылать оповещения на Вашу электронную почту")])])}],!1,null,"0dfee53a",null).exports,HelpTab:m},data:function(){return{passwords:{password:"",confirm_password:"",old_password:""},code_loading:!1,tab:"Profile",links:[{icon:"User",code:"Profile",label:"Профиль",color:"primary"},{icon:"Bell",code:"Notifications",label:"Уведомления",color:"green"},{icon:"Information",code:"AskQuestion",label:"Задать вопрос",color:"yellow"},{icon:"Help",code:"Help",label:"Помощь",color:"pink"},{icon:"Alignment",code:"About",label:"О сайте",color:"red"},{path:"/calendar",icon:"Date",code:"Calendar",label:"Календарь",color:"blue"}]}},computed:{user:function(){return this.$store.getters.auth_user},user_loading:function(){return this.$store.getters.auth_user_loading},isLoggedIn:function(){return this.$store.getters.isLoggedIn}},methods:{navigate:function(t){t.path?this.$router.push(t.path):this.tab=t.code}}};const x=(0,r.Z)(C,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container bkt-page bkt-profile bkt-container"},[e("h1",{staticClass:"bkt-page__title d-md-none"},[t._v("\n        Профиль\n        "),t.isLoggedIn?e("bkt-icon",{staticClass:"ms-1",attrs:{name:"LogOut",color:"red",width:"16px",height:"16px"}}):t._e()],1),t._v(" "),t.isLoggedIn&&!t.user_loading?e("div",{staticClass:"bkt-form wide bkt-profile-gap"},[e("div",{staticClass:"col-12 col-lg-3 bkt-form__offset-right"},[e("div",{staticClass:"bkt-wrapper-sm-column bkt-wrapper-column-reverse bkt-profile-gap"},[e("div",{staticClass:"bkt-card bkt-card__body bkt-sidebar"},[e("ul",{staticClass:"bkt-sidebar__links"},t._l(t.links,(function(i){return e("li",{staticClass:"bkt-sidebar__link",class:[t.tab==i.code?"bkt-bg-"+i.color+"-lighter":""],on:{click:function(e){return t.navigate(i)}}},[e("div",{staticClass:"bkt-sidebar__link-icon",class:[t.tab==i.code?"bkt-bg-"+i.color:"bkt-bg-"+i.color+"-lighter"]},[e("bkt-icon",{attrs:{name:i.icon,color:t.tab==i.code?"white":i.color}})],1),t._v(" "),e("div",{staticClass:"bkt-sidebar__link-label"},[t._v(t._s(i.label))])])})),0)]),t._v(" "),e("div",{staticClass:"bkt-profile-tariff-wrapper"},[e("div",{staticClass:"bkt-card bkt-bg-primary bkt-profile-tariff"},[e("h5",{staticClass:"d-sm-none me-auto"},[t._v(t._s(t.user?t.user.name+" "+t.user.lastName:""))]),t._v(" "),e("div",{staticClass:"bkt-wrapper-between bkt-wrapper-sm-column"},[e("h6",{staticClass:"bkt-card__subtitle"},[t._v("тарифный план")]),t._v(" "),e("h5",{staticClass:"bkt-card__title"},[t._v(t._s(t.user.tariff?t.user.tariff.title:"Базовый"))])]),t._v(" "),e("a",{staticClass:"bkt-button bkt-tariff-button",attrs:{href:"/tariffs"}},[t._v("\n                            Сменить тариф\n                        ")]),t._v(" "),e("div",{staticClass:"bkt-card bkt-card__background-figure-1"}),t._v(" "),e("div",{staticClass:"bkt-card bkt-card__background-figure-2 bkt-bg-primary"})])])])]),t._v(" "),e("div",{staticClass:"p-0 col-12 col-lg-9"},[e(t.tab+"Tab",{tag:"component"})],1)]):t._e(),t._v(" "),t.isLoggedIn||t.user_loading?t._e():e("div",{staticClass:"bkt-shadow-card bkt-shadow-card_primary"},[t._m(0)]),t._v(" "),t.user_loading?e("div",{staticClass:"d-flex w-100 justify-content-center my-5"},[e("div",{staticClass:"spinner-border",staticStyle:{color:"#2953ff","border-width":"2px"},attrs:{role:"status"}})]):t._e()])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"bkt-shadow-card__inner bkt-gap-large"},[e("h5",{staticClass:"bkt-card__title bkt-text-white"},[t._v("Войдите или зарегистрируйтесь")]),t._v(" "),e("button",{staticClass:"bkt-button bkt-bg-white bkt-text-primary mx-auto",staticStyle:{"max-width":"320px"},attrs:{"data-bs-toggle":"modal","data-bs-target":"#authModal"}},[t._v("\n                Вход и регистрация\n            ")]),t._v(" "),e("div",{staticClass:"bkt-shadow-card__shadow-1"}),t._v(" "),e("div",{staticClass:"bkt-shadow-card__shadow-2"})])}],!1,null,"346a9faa",null).exports}}]);
//# sourceMappingURL=profile.js.map