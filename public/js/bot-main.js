/*! For license information please see bot-main.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[20],{47745:(t,e,n)=>{n.r(e),n.d(e,{default:()=>k});var r=n(26785),o=n(72806),i=n(6532),a=n(59145),s=n(57418),c=n(75362);function l(){var t=h(),e=t.m(l),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===n||"GeneratorFunction"===(e.displayName||e.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var e,n;return function(r){e||(e={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(t,e){return n(r.a,o[t],e)},delegateYield:function(t,o,i){return e.resultName=o,n(r.d,u(t),i)},finish:function(t){return n(r.f,t)}},n=function(t,n,o){r.p=e.prev,r.n=e.next;try{return t(n,o)}finally{e.next=r.n}}),e.resultName&&(e[e.resultName]=r.v,e.resultName=void 0),e.sent=r.v,e.next=r.n;try{return t.call(this,e)}finally{r.p=e.prev,r.n=e.next}}}return(l=function(){return{wrap:function(e,n,r,o){return t.w(i(e),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,e){return new y(t,e)},AsyncIterator:m,async:function(t,e,n,o,a){return(r(e)?d:p)(i(t),e,n,o,a)},keys:f,values:u}})()}function u(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(b(t)+" is not iterable")}function f(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}}function p(t,e,n,r,o){var i=d(t,e,n,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function d(t,e,n,r,o){return new m(h().w(t,e,n,r),o||Promise)}function m(t,e){function n(r,o,i,a){try{var s=t[r](o),c=s.value;return c instanceof y?e.resolve(c.v).then((function(t){n("next",t,i,a)}),(function(t){n("throw",t,i,a)})):e.resolve(c).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(v(m.prototype),v(m.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),v(this,"_invoke",(function(t,o,i){function a(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(a,a):a()}),!0)}function h(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return v(l,"_invoke",function(n,r,o){var i,s,c,l=0,u=o||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return i=e,s=0,c=t,p.n=n,a}};function d(n,r){for(s=n,c=r,e=0;!f&&l&&!o&&e<u.length;e++){var o,i=u[e],d=p.p,m=i[2];n>3?(o=m===r)&&(c=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=t):i[0]<=d&&((o=n<2&&d<i[1])?(s=0,p.v=r,p.n=i[1]):d<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,p.n=m,s=0))}if(o||n>1)return a;throw f=!0,r}return function(o,u,m){if(l>1)throw TypeError("Generator is already running");for(f&&1===u&&d(u,m),s=u,c=m;(e=s<2?t:c)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,c)):p.n=c:p.v=c);try{if(l=2,i){if(s||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=i.return)&&e.call(i),s<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=t}else if((e=(f=p.n<0)?c:n.call(r,p))!==a)break}catch(e){i=t,s=1,c=e}finally{l=1}}return{value:e,done:f}}}(n,o,i),!0),l}var a={};function s(){}function c(){}function l(){}e=Object.getPrototypeOf;var u=[][r]?e(e([][r]())):(v(e={},r,(function(){return this})),e),f=l.prototype=s.prototype=Object.create(u);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,v(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return c.prototype=l,v(f,"constructor",l),v(l,"constructor",c),c.displayName="GeneratorFunction",v(l,o,"GeneratorFunction"),v(f),v(f,o,"Generator"),v(f,r,(function(){return this})),v(f,"toString",(function(){return"[object Generator]"})),(h=function(){return{w:i,m:p}})()}function v(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}v=function(t,e,n,r){function i(e,n){v(t,e,(function(t){return this._invoke(e,n,t)}))}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},v(t,e,n,r)}function y(t,e){this.v=t,this.k=e}function g(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}const _={name:"MainPage",components:{BktFilterCard:r.A,BktRegionModal:o.A,BktCategoryModal:i.A,BktPriceModal:a.A,BktTradeTypeModal:s.A,BktFilters:c.A},data:function(){return{attributes:{type:"bot"},filters_mode:!1}},computed:{filters:function(){return this.$store.getters.bot_filters},items:function(){return this.$store.getters.trades},pagination_data:function(){return this.$store.getters.trades_pagination},loading:function(){return this.$store.getters.trades_loading},isLoggedIn:function(){return this.$store.getters.isLoggedIn},auth_user:function(){return this.$store.getters.auth_user},filters_total:function(){var t=JSON.parse(JSON.stringify(this.filters));t.sort=null;var e=0;return t&&Object.keys(t).forEach((function(n){t[n]&&(Array.isArray(t[n])?e+=t[n].length:e+=Object.values(t[n]).reduce((function(t,e){return"object"===b(e)&&null!=e&&Object.values(e).forEach((function(e){e&&t++})),"string"==typeof e&&""!==e&&t++,t}),0))})),e}},mounted:function(){if(0===this.items.length){var t=1;sessionStorage.getItem("main_page")&&(t=sessionStorage.getItem("main_page")),this.getData(t)}},methods:{getData:function(){var t,e=arguments,n=this;return(t=l().mark((function t(){var r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:1,t.next=3,n.$store.dispatch("getFilteredTrades",{page:r,filters:n.filters});case 3:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){g(i,r,o,a,s,"next",t)}function s(t){g(i,r,o,a,s,"throw",t)}a(void 0)}))})()},changeStatus:function(t){if("isHide"===t.key){var e=null;t.page&&(e=t.page),this.getData(e)}},removeFilters:function(){this.$store.commit("resetFilters",""),this.getData(1),this.$scrollTo("#cardList",200)},toTariffsPage:function(){this.$router.push("/bot/tariffs")},runSearch:function(t){this.getData(1),this.$scrollTo("#cardList",200)},closeSidebar:function(){var t=bootstrap.Offcanvas.getOrCreateInstance(document.querySelector("#offcanvasFilters"));t&&t.hide()}}};const k=(0,n(14486).A)(_,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container bkt-container bkt-page"},[e("div",{staticClass:"bkt-wrapper bkt-nowrap bkt-gap"},[e("bkt-search",{staticClass:"w-100",attrs:{no_dropdown:"",loading:t.loading,simple:"",clearable:""},on:{runSearch:t.runSearch},model:{value:t.filters.searchString,callback:function(e){t.$set(t.filters,"searchString",e)},expression:"filters.searchString"}}),t._v(" "),e("button",{staticClass:"bkt-button-icon p-2 flex-shrink-0 position-relative",attrs:{"data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasFilters"}},[e("bkt-icon",{attrs:{name:"Filters",color:"primary"}}),t._v(" "),t.filters_total>0?e("div",{staticClass:"bkt-badge position-absolute top-0 m-0 bkt-border-primary",class:"bkt-bg-primary bkt-text-white",staticStyle:{left:"30px",padding:"2px","min-width":"20px",height:"20px","line-height":"12px"}},[t._v("\n                    "+t._s(t.filters_total>99?"99+":t.filters_total)+"\n                ")]):t._e()],1)],1),t._v(" "),e("div",{staticClass:"offcanvas offcanvas-start bkt-sidebar",attrs:{tabindex:"-1",id:"offcanvasFilters","aria-labelledby":"offcanvasFiltersLabel"}},[e("div",{staticClass:"offcanvas-header bkt-sidebar__header"},[t._m(0),t._v(" "),e("button",{staticClass:"bkt-button bkt-sidebar__button",attrs:{type:"button","data-bs-dismiss":"offcanvas","aria-label":"Close"}},[e("bkt-icon",{attrs:{name:"Cancel",width:"13px",height:"13px",color:"white"}})],1)]),t._v(" "),e("div",{staticClass:"offcanvas-body bkt-sidebar__body"},[e("bkt-filters",{staticClass:"bkt-auctions",on:{save:t.closeSidebar}})],1)]),t._v(" "),e("bkt-card-list",{attrs:{current_component:"BktCard",items:t.items,loading:t.loading,current_component_attrs:t.attributes,type:"bot",pagination_data:t.pagination_data},on:{"change-page":t.getData,changeStatus:t.changeStatus}}),t._v(" "),t.loading||t.isLoggedIn&&t.auth_user&&t.auth_user.botTariff?t._e():e("div",{staticClass:"bkt-shadow-card bkt-shadow-card_primary mt-3"},[e("div",{staticClass:"bkt-shadow-card__inner bkt-gap-large"},[t._m(1),t._v(" "),e("button",{staticClass:"bkt-button bkt-bg-white bkt-text-primary mx-auto bkt-button_plump",staticStyle:{"max-width":"320px"},on:{click:t.toTariffsPage}},[t._v("\n                    Купить подписку\n                ")]),t._v(" "),e("div",{staticClass:"bkt-shadow-card__shadow-1"}),t._v(" "),e("div",{staticClass:"bkt-shadow-card__shadow-2"})])])],1)}),[function(){var t=this._self._c;return t("a",{attrs:{href:"/bot"}},[t("img",{staticClass:"logo",attrs:{src:"/images/logo.png",alt:"logo"}})])},function(){var t=this,e=t._self._c;return e("h4",{staticClass:"bkt-shadow-card__title bkt-text-white"},[t._v("\n                    Чтобы продолжить просмотр лотов "),e("br"),t._v(" "),e("span",[t._v("купите подписку")])])}],!1,null,"70ec4339",null).exports},26785:(t,e,n)=>{n.d(e,{A:()=>i});function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}const o={name:"FilterCard",props:["title","count","modal_name","icon","category_class"],computed:{total:function(){var t=JSON.parse(JSON.stringify(this.count));return t.other&&(t.other.period=null),t.tradeTypes&&(t.tradeTypes=null),t.tradePlaces&&(t.tradePlaces=null),Array.isArray(t)?t.length:Object.values(t).reduce((function(t,e){return"object"===r(e)&&null!=e&&Object.values(e).forEach((function(e){e&&t++})),"string"==typeof e&&""!==e&&t++,t}),0)}},methods:{openModal:function(){this.$store.commit("openModal",this.modal_name)}}};const i=(0,n(14486).A)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bkt-card__row"},[e("div",{staticClass:"col-10"},[e("div",{staticClass:"bkt-card__row-column"},[e("h4",{staticClass:"bkt-card__title",domProps:{innerHTML:t._s(t.title)}}),t._v(" "),e("h5",{staticClass:"bkt-card__subtitle",class:{"bkt-text-green":t.total>0}},[t._v("\n                "+t._s(t.total>0?"":"ничего не")+" выбрано "+t._s(t.total>0?t.total:"")+"\n            ")]),t._v(" "),e("button",{staticClass:"bkt-button",class:[t.total>0?"primary-lighter":"primary"],on:{click:t.openModal}},[t._v("\n                "+t._s(t.total>0?"Изменить":"Выбрать")+"\n            ")])])]),t._v(" "),e("div",{staticClass:"col-2"},[e("div",{staticClass:"bkt-card__category ms-auto",class:t.category_class},[e("span",{staticClass:"bkt-card__category-icon"},[e("bkt-icon",t._b({},"bkt-icon",t.icon,!1))],1)])])])}),[],!1,null,"5660346c",null).exports},65741:(t,e,n)=>{n.d(e,{A:()=>h});function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(){var t=u(),e=t.m(o),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===n||"GeneratorFunction"===(e.displayName||e.name))}var f={throw:1,return:2,break:3,continue:3};function d(t){var e,n;return function(r){e||(e={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(t,e){return n(r.a,f[t],e)},delegateYield:function(t,o,a){return e.resultName=o,n(r.d,i(t),a)},finish:function(t){return n(r.f,t)}},n=function(t,n,o){r.p=e.prev,r.n=e.next;try{return t(n,o)}finally{e.next=r.n}}),e.resultName&&(e[e.resultName]=r.v,e.resultName=void 0),e.sent=r.v,e.next=r.n;try{return t.call(this,e)}finally{r.p=e.prev,r.n=e.next}}}return(o=function(){return{wrap:function(e,n,r,o){return t.w(d(e),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,e){return new p(t,e)},AsyncIterator:l,async:function(t,e,n,o,i){return(r(e)?c:s)(d(t),e,n,o,i)},keys:a,values:i}})()}function i(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(r(t)+" is not iterable")}function a(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}}function s(t,e,n,r,o){var i=c(t,e,n,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function c(t,e,n,r,o){return new l(u().w(t,e,n,r),o||Promise)}function l(t,e){function n(r,o,i,a){try{var s=t[r](o),c=s.value;return c instanceof p?e.resolve(c.v).then((function(t){n("next",t,i,a)}),(function(t){n("throw",t,i,a)})):e.resolve(c).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(f(l.prototype),f(l.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),f(this,"_invoke",(function(t,o,i){function a(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(a,a):a()}),!0)}function u(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return f(l,"_invoke",function(n,r,o){var i,s,c,l=0,u=o||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return i=e,s=0,c=t,p.n=n,a}};function d(n,r){for(s=n,c=r,e=0;!f&&l&&!o&&e<u.length;e++){var o,i=u[e],d=p.p,m=i[2];n>3?(o=m===r)&&(c=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=t):i[0]<=d&&((o=n<2&&d<i[1])?(s=0,p.v=r,p.n=i[1]):d<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,p.n=m,s=0))}if(o||n>1)return a;throw f=!0,r}return function(o,u,m){if(l>1)throw TypeError("Generator is already running");for(f&&1===u&&d(u,m),s=u,c=m;(e=s<2?t:c)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,c)):p.n=c:p.v=c);try{if(l=2,i){if(s||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=i.return)&&e.call(i),s<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=t}else if((e=(f=p.n<0)?c:n.call(r,p))!==a)break}catch(e){i=t,s=1,c=e}finally{l=1}}return{value:e,done:f}}}(n,o,i),!0),l}var a={};function s(){}function c(){}function l(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(f(e={},r,(function(){return this})),e),d=l.prototype=s.prototype=Object.create(p);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,f(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return c.prototype=l,f(d,"constructor",l),f(l,"constructor",c),c.displayName="GeneratorFunction",f(l,o,"GeneratorFunction"),f(d),f(d,o,"Generator"),f(d,r,(function(){return this})),f(d,"toString",(function(){return"[object Generator]"})),(u=function(){return{w:i,m}})()}function f(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}f=function(t,e,n,r){function i(e,n){f(t,e,(function(t){return this._invoke(e,n,t)}))}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},f(t,e,n,r)}function p(t,e){this.v=t,this.k=e}function d(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}const m={name:"PricesControl",props:{value:{type:null,default:!1},label_column:{type:String,default:"col-12 col-lg-3 p-0"},content_column:{type:String,default:"col-12 col-lg-9 m-0"}},model:{prop:"value",event:"input"},data:function(){return{loading:!1,model:{currentPrice:{min:"",max:""},startPrice:{min:"",max:""},minPrice:{min:"",max:""},percentageReduction:{min:"",max:""}}}},created:function(){},mounted:function(){this.model=this.value},computed:{filters_prices:function(){return this.$store.getters.filters_data.prices}},watch:{value:function(t,e){this.model=t,this.saveValue()}},methods:{saveValue:function(){this.$emit("input",this.model)},getData:function(){var t,e=this;return(t=o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$store.dispatch("getFiltersPrices").then((function(t){e.loading=!1})).catch((function(t){e.loading=!1}));case 3:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){d(i,r,o,a,s,"next",t)}function s(t){d(i,r,o,a,s,"throw",t)}a(void 0)}))})()}}};const h=(0,n(14486).A)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bkt-form mx-auto align-items-center"},[e("div",{class:t.label_column},[e("h5",{staticClass:"bkt-form__label"},[t._v("начальная цена, ₽")])]),t._v(" "),e("div",{class:t.content_column},[e("div",{staticClass:"bkt-form"},[e("div",{staticClass:"col-12 col-lg-6"},[e("bkt-input",{attrs:{type:"number",field_name:"'Начальная цена от'",name:"startPriceMin",icon_name:"Check",group_item_class:t.model.startPrice.min?"bkt-bg-green":"bkt-bg-white",icon_color:t.model.startPrice.min?"white":"main-lighter"},on:{input:t.saveValue},scopedSlots:t._u([{key:"group-text",fn:function(){return[t._v("\n                        от\n                    ")]},proxy:!0}]),model:{value:t.model.startPrice.min,callback:function(e){t.$set(t.model.startPrice,"min",e)},expression:"model.startPrice.min"}})],1),t._v(" "),e("div",{staticClass:"col-12 col-lg-6"},[e("bkt-input",{attrs:{type:"number",field_name:"'Начальная цена до'",name:"startPriceMax",icon_name:"Check",group_item_class:t.model.startPrice.max?"bkt-bg-green":"bkt-bg-white",icon_color:t.model.startPrice.max?"white":"main-lighter"},on:{input:t.saveValue},scopedSlots:t._u([{key:"group-text",fn:function(){return[t._v("\n                        до\n                    ")]},proxy:!0}]),model:{value:t.model.startPrice.max,callback:function(e){t.$set(t.model.startPrice,"max",e)},expression:"model.startPrice.max"}})],1)])]),t._v(" "),e("div",{class:t.label_column},[e("h5",{staticClass:"bkt-form__label"},[t._v("текущая цена, ₽")])]),t._v(" "),e("div",{class:t.content_column},[e("div",{staticClass:"bkt-form"},[e("div",{staticClass:"col-12 col-lg-6"},[e("bkt-input",{attrs:{type:"number",field_name:"'Текущая цена от'",name:"currentPriceMin",icon_name:"Check",group_item_class:t.model.currentPrice.min?"bkt-bg-green":"bkt-bg-white",icon_color:t.model.currentPrice.min?"white":"main-lighter"},on:{input:t.saveValue},scopedSlots:t._u([{key:"group-text",fn:function(){return[t._v("\n                        от\n                    ")]},proxy:!0}]),model:{value:t.model.currentPrice.min,callback:function(e){t.$set(t.model.currentPrice,"min",e)},expression:"model.currentPrice.min"}})],1),t._v(" "),e("div",{staticClass:"col-12 col-lg-6"},[e("bkt-input",{attrs:{type:"number",field_name:"'Текущая цена до'",name:"currentPriceMax",icon_name:"Check",group_item_class:t.model.currentPrice.max?"bkt-bg-green":"bkt-bg-white",icon_color:t.model.currentPrice.max?"white":"main-lighter"},on:{input:t.saveValue},scopedSlots:t._u([{key:"group-text",fn:function(){return[t._v("\n                        до\n                    ")]},proxy:!0}]),model:{value:t.model.currentPrice.max,callback:function(e){t.$set(t.model.currentPrice,"max",e)},expression:"model.currentPrice.max"}})],1)])]),t._v(" "),e("div",{class:t.label_column},[e("h5",{staticClass:"bkt-form__label"},[t._v("минимальная цена, ₽")])]),t._v(" "),e("div",{class:t.content_column},[e("div",{staticClass:"bkt-form"},[e("div",{staticClass:"col-12 col-lg-6"},[e("bkt-input",{attrs:{type:"number",field_name:"'Минимальная цена от'",name:"minPriceMin",icon_name:"Check",group_item_class:t.model.minPrice.min?"bkt-bg-green":"bkt-bg-white",icon_color:t.model.minPrice.min?"white":"main-lighter"},on:{input:t.saveValue},scopedSlots:t._u([{key:"group-text",fn:function(){return[t._v("\n                        от\n                    ")]},proxy:!0}]),model:{value:t.model.minPrice.min,callback:function(e){t.$set(t.model.minPrice,"min",e)},expression:"model.minPrice.min"}})],1),t._v(" "),e("div",{staticClass:"col-12 col-lg-6"},[e("bkt-input",{attrs:{field_name:"'Минимальная цена до'",name:"minPriceMax",icon_name:"Check",group_item_class:t.model.minPrice.max?"bkt-bg-green":"bkt-bg-white",icon_color:t.model.minPrice.max?"white":"main-lighter"},on:{input:t.saveValue},scopedSlots:t._u([{key:"group-text",fn:function(){return[t._v("\n                        до\n                    ")]},proxy:!0}]),model:{value:t.model.minPrice.max,callback:function(e){t.$set(t.model.minPrice,"max",e)},expression:"model.minPrice.max"}})],1)])]),t._v(" "),e("div",{class:t.label_column},[e("h5",{staticClass:"bkt-form__label"},[t._v("процент снижения, %")])]),t._v(" "),e("div",{class:t.content_column},[e("div",{staticClass:"bkt-form"},[e("div",{staticClass:"col-12 col-lg-6"},[e("bkt-input",{attrs:{field_name:"'Процент снижения от'",name:"percentageReductionMin",icon_name:"Check",group_item_class:t.model.percentageReduction.min?"bkt-bg-green":"bkt-bg-white",icon_color:t.model.percentageReduction.min?"white":"main-lighter"},on:{input:t.saveValue},scopedSlots:t._u([{key:"group-text",fn:function(){return[t._v("\n                        от\n                    ")]},proxy:!0}]),model:{value:t.model.percentageReduction.min,callback:function(e){t.$set(t.model.percentageReduction,"min",e)},expression:"model.percentageReduction.min"}})],1),t._v(" "),e("div",{staticClass:"col-12 col-lg-6"},[e("bkt-input",{attrs:{field_name:"'Процент снижения до'",name:"percentageReductionMax",icon_name:"Check",group_item_class:t.model.percentageReduction.max?"bkt-bg-green":"bkt-bg-white",icon_color:t.model.percentageReduction.max?"white":"main-lighter"},on:{input:t.saveValue},scopedSlots:t._u([{key:"group-text",fn:function(){return[t._v("\n                        до\n                    ")]},proxy:!0}]),model:{value:t.model.percentageReduction.max,callback:function(e){t.$set(t.model.percentageReduction,"max",e)},expression:"model.percentageReduction.max"}})],1)])])])}),[],!1,null,"67a9baf8",null).exports},69968:(t,e,n)=>{n.d(e,{A:()=>h});function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(){var t=u(),e=t.m(o),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===n||"GeneratorFunction"===(e.displayName||e.name))}var f={throw:1,return:2,break:3,continue:3};function d(t){var e,n;return function(r){e||(e={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(t,e){return n(r.a,f[t],e)},delegateYield:function(t,o,a){return e.resultName=o,n(r.d,i(t),a)},finish:function(t){return n(r.f,t)}},n=function(t,n,o){r.p=e.prev,r.n=e.next;try{return t(n,o)}finally{e.next=r.n}}),e.resultName&&(e[e.resultName]=r.v,e.resultName=void 0),e.sent=r.v,e.next=r.n;try{return t.call(this,e)}finally{r.p=e.prev,r.n=e.next}}}return(o=function(){return{wrap:function(e,n,r,o){return t.w(d(e),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,e){return new p(t,e)},AsyncIterator:l,async:function(t,e,n,o,i){return(r(e)?c:s)(d(t),e,n,o,i)},keys:a,values:i}})()}function i(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(r(t)+" is not iterable")}function a(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}}function s(t,e,n,r,o){var i=c(t,e,n,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function c(t,e,n,r,o){return new l(u().w(t,e,n,r),o||Promise)}function l(t,e){function n(r,o,i,a){try{var s=t[r](o),c=s.value;return c instanceof p?e.resolve(c.v).then((function(t){n("next",t,i,a)}),(function(t){n("throw",t,i,a)})):e.resolve(c).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(f(l.prototype),f(l.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),f(this,"_invoke",(function(t,o,i){function a(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(a,a):a()}),!0)}function u(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return f(l,"_invoke",function(n,r,o){var i,s,c,l=0,u=o||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return i=e,s=0,c=t,p.n=n,a}};function d(n,r){for(s=n,c=r,e=0;!f&&l&&!o&&e<u.length;e++){var o,i=u[e],d=p.p,m=i[2];n>3?(o=m===r)&&(c=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=t):i[0]<=d&&((o=n<2&&d<i[1])?(s=0,p.v=r,p.n=i[1]):d<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,p.n=m,s=0))}if(o||n>1)return a;throw f=!0,r}return function(o,u,m){if(l>1)throw TypeError("Generator is already running");for(f&&1===u&&d(u,m),s=u,c=m;(e=s<2?t:c)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,c)):p.n=c:p.v=c);try{if(l=2,i){if(s||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=i.return)&&e.call(i),s<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=t}else if((e=(f=p.n<0)?c:n.call(r,p))!==a)break}catch(e){i=t,s=1,c=e}finally{l=1}}return{value:e,done:f}}}(n,o,i),!0),l}var a={};function s(){}function c(){}function l(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(f(e={},r,(function(){return this})),e),d=l.prototype=s.prototype=Object.create(p);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,f(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return c.prototype=l,f(d,"constructor",l),f(l,"constructor",c),c.displayName="GeneratorFunction",f(l,o,"GeneratorFunction"),f(d),f(d,o,"Generator"),f(d,r,(function(){return this})),f(d,"toString",(function(){return"[object Generator]"})),(u=function(){return{w:i,m}})()}function f(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}f=function(t,e,n,r){function i(e,n){f(t,e,(function(t){return this._invoke(e,n,t)}))}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},f(t,e,n,r)}function p(t,e){this.v=t,this.k=e}function d(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}const m={name:"RegionsControl",props:{value:{type:null,default:!1},show_selected:{type:Boolean,default:!0}},model:{prop:"value",event:"input"},data:function(){return{regionGroups:[],selectedRegion:null,model:[]}},created:function(){this.getRegions()},mounted:function(){this.model=this.value},computed:{regions:function(){return this.$store.getters.regions},loading:function(){return this.$store.getters.regions_loading}},watch:{value:function(t,e){this.model=t,this.saveValue()}},methods:{saveValue:function(){this.$emit("input",this.model)},toggleRegion:function(t){var e=this.model.findIndex((function(e){return e===t}));e<0?this.model.push(t):this.model.splice(e,1),this.saveValue()},selectAll:function(t){var e=this;this.regionGroups[t].status?this.regionGroups[t].regions.forEach((function(t){e.model.findIndex((function(e){return e===t}))<0&&e.model.push(t)})):this.regionGroups[t].regions.forEach((function(t){var n=e.model.findIndex((function(e){return e===t}));n>=0&&e.model.splice(n,1)})),this.saveValue()},allChecked:function(t,e){return e.every((function(e){return t.includes(e)}))},isIndeterminate:function(t){var e=this,n=this.allChecked(this.model,this.regionGroups[t].regions),r=this.regionGroups[t].regions.some((function(t){return e.model.includes(t)}));return this.regionGroups[t].status=!!n,!n&&r},getRegions:function(){var t,e=this;return(t=o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.regions.length){t.next=5;break}return t.next=3,e.$store.dispatch("getRegions").then((function(t){e.regionGroups=JSON.parse(JSON.stringify(e.regions)),e.selectedRegion=e.regionGroups[0]}));case 3:t.next=7;break;case 5:e.regionGroups=JSON.parse(JSON.stringify(e.regions)),e.selectedRegion=e.regionGroups[0];case 7:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){d(i,r,o,a,s,"next",t)}function s(t){d(i,r,o,a,s,"throw",t)}a(void 0)}))})()}}};const h=(0,n(14486).A)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bkt-wrapper-column bkt-gap-large"},[!t.loading&&t.selectedRegion?e("div",{staticClass:"bkt-regions-tabs d-lg-block d-none"},[e("div",{staticClass:"bkt-form"},[e("div",{staticClass:"col-5 p-0"},[e("div",{staticClass:"bkt-regions-tabs__nav text-center"},t._l(t.regionGroups,(function(n,r){return e("div",{staticClass:"bkt-regions-tabs__nav-item",class:{"active bkt-bg-item-neutral":t.selectedRegion.regionGroup==n.regionGroup},on:{click:function(e){t.selectedRegion=n}}},[t._v("\n                        "+t._s(t.$t("region_groups."+n.regionGroup))+"\n                    ")])})),0)]),t._v(" "),e("div",{staticClass:"col-7 p-0"},[e("div",{staticClass:"bkt-regions-tabs__content bkt-bg-body",class:{"bkt-rounded-left-top-none":t.regionGroups[0].regionGroup==t.selectedRegion.regionGroup,"bkt-rounded-left-bottom-none":t.regionGroups[t.regionGroups.length-1].regionGroup==t.selectedRegion.regionGroup}},t._l(t.selectedRegion.regions,(function(n,r){return e("div",{key:r,staticClass:"bkt-tag__wrapper"},[e("div",{staticClass:"bkt-tag w-100 text-left bkt-bg-item-rounded",class:{"bkt-bg-green bkt-text-white":t.model.findIndex((function(t){return t===n}))>=0}},[t._v("\n                            "+t._s(t.$t("regions."+n))+"\n                        ")]),t._v(" "),e("div",{staticClass:"bkt-tag__icon",on:{click:function(e){return t.toggleRegion(n)}}},[e("bkt-icon",{directives:[{name:"show",rawName:"v-show",value:t.model.findIndex((function(t){return t===n}))>=0,expression:"model.findIndex(data => data === item)>=0"}],attrs:{name:"Cancel",color:"red"}}),t._v(" "),e("bkt-icon",{directives:[{name:"show",rawName:"v-show",value:t.model.findIndex((function(t){return t===n}))<0,expression:"model.findIndex(data => data === item)<0"}],attrs:{name:"Plus",color:"green"}})],1)])})),0)])])]):t._e(),t._v(" "),!t.loading&&t.selectedRegion?e("div",{staticClass:"d-lg-none bkt-wrapper-column bkt-gap-small"},t._l(t.regionGroups,(function(n,r){return e("bkt-collapse",{key:r,attrs:{id:"region-collapse-"+r,main_class:"bkt-collapse_check",collapse_header:!1,collapse_button_class:"bkt-bg-white"},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"bkt-collapse__title-wrapper"},[e("bkt-checkbox",{attrs:{label:"",name:"bkt-region-group-checkbox-"+r,id:"bkt-region-group-checkbox-"+r,indeterminate:t.isIndeterminate(r)},on:{input:function(e){return t.selectAll(r)}},model:{value:n.status,callback:function(e){t.$set(n,"status",e)},expression:"group.status"}}),t._v(" "),e("h5",{staticClass:"bkt-regions-tabs__title",attrs:{"data-bs-toggle":"collapse","data-bs-target":"#region-collapse-"+r}},[t._v("\n                        "+t._s(t.$t("region_groups."+n.regionGroup))+"\n                    ")])],1)]},proxy:!0},{key:"collapse",fn:function(){return t._l(n.regions,(function(n,r){return e("div",{staticClass:"bkt-gap-mini"},[e("div",{staticClass:"bkt-collapse__title-wrapper"},[e("bkt-checkbox",{attrs:{label:"",name:"bkt-region-checkbox-"+r,id:"bkt-region-checkbox-"+r,val:n},on:{input:t.saveValue},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}}),t._v(" "),e("h6",{staticClass:"bkt-regions-tabs__subtitle"},[t._v("\n                            "+t._s(t.$t("regions."+n))+"\n                        ")])],1)])}))},proxy:!0}],null,!0)})})),1):t._e(),t._v(" "),t.model.length>0&&!t.loading&&t.show_selected?e("div",{staticClass:"bkt-region-selected"},[t._m(0),t._v(" "),e("div",{staticClass:"bkt-tag__list"},t._l(t.model,(function(n,r){return e("div",{staticClass:"bkt-region__item bkt-tag justify-content-between flex-fill"},[e("span",{staticClass:"bkt-item-rounded__text mr-2"},[t._v(t._s(t.$t("regions."+n)))]),t._v(" "),e("span",{staticClass:"bkt-tag__icon bkt-cursor-pointer",on:{click:function(e){return t.toggleRegion(n)}}},[e("bkt-icon",{attrs:{name:"Cancel",color:"red"}})],1)])})),0)]):t._e(),t._v(" "),t.loading?e("div",{staticClass:"d-flex w-100 justify-content-center my-5"},[e("div",{staticClass:"spinner-border",staticStyle:{color:"#2953ff","border-width":"2px"},attrs:{role:"status"}})]):t._e()])}),[function(){var t=this._self._c;return t("h5",{staticClass:"bkt-region-selected__title text-left mb-2"},[t("span",{staticClass:"text-muted"},[this._v("выбранные регионы")])])}],!1,null,"7797ca21",null).exports},6532:(t,e,n)=>{n.d(e,{A:()=>y});var r=n(56418),o=n(89928);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){var t=p(),e=t.m(a),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===n||"GeneratorFunction"===(e.displayName||e.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var e,n;return function(r){e||(e={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(t,e){return n(r.a,o[t],e)},delegateYield:function(t,o,i){return e.resultName=o,n(r.d,s(t),i)},finish:function(t){return n(r.f,t)}},n=function(t,n,o){r.p=e.prev,r.n=e.next;try{return t(n,o)}finally{e.next=r.n}}),e.resultName&&(e[e.resultName]=r.v,e.resultName=void 0),e.sent=r.v,e.next=r.n;try{return t.call(this,e)}finally{r.p=e.prev,r.n=e.next}}}return(a=function(){return{wrap:function(e,n,r,o){return t.w(i(e),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,e){return new m(t,e)},AsyncIterator:f,async:function(t,e,n,o,a){return(r(e)?u:l)(i(t),e,n,o,a)},keys:c,values:s}})()}function s(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(i(t)+" is not iterable")}function c(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}}function l(t,e,n,r,o){var i=u(t,e,n,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function u(t,e,n,r,o){return new f(p().w(t,e,n,r),o||Promise)}function f(t,e){function n(r,o,i,a){try{var s=t[r](o),c=s.value;return c instanceof m?e.resolve(c.v).then((function(t){n("next",t,i,a)}),(function(t){n("throw",t,i,a)})):e.resolve(c).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(d(f.prototype),d(f.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),d(this,"_invoke",(function(t,o,i){function a(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(a,a):a()}),!0)}function p(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return d(l,"_invoke",function(n,r,o){var i,s,c,l=0,u=o||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return i=e,s=0,c=t,p.n=n,a}};function d(n,r){for(s=n,c=r,e=0;!f&&l&&!o&&e<u.length;e++){var o,i=u[e],d=p.p,m=i[2];n>3?(o=m===r)&&(c=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=t):i[0]<=d&&((o=n<2&&d<i[1])?(s=0,p.v=r,p.n=i[1]):d<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,p.n=m,s=0))}if(o||n>1)return a;throw f=!0,r}return function(o,u,m){if(l>1)throw TypeError("Generator is already running");for(f&&1===u&&d(u,m),s=u,c=m;(e=s<2?t:c)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,c)):p.n=c:p.v=c);try{if(l=2,i){if(s||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=i.return)&&e.call(i),s<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=t}else if((e=(f=p.n<0)?c:n.call(r,p))!==a)break}catch(e){i=t,s=1,c=e}finally{l=1}}return{value:e,done:f}}}(n,o,i),!0),l}var a={};function s(){}function c(){}function l(){}e=Object.getPrototypeOf;var u=[][r]?e(e([][r]())):(d(e={},r,(function(){return this})),e),f=l.prototype=s.prototype=Object.create(u);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,d(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return c.prototype=l,d(f,"constructor",l),d(l,"constructor",c),c.displayName="GeneratorFunction",d(l,o,"GeneratorFunction"),d(f),d(f,o,"Generator"),d(f,r,(function(){return this})),d(f,"toString",(function(){return"[object Generator]"})),(p=function(){return{w:i,m}})()}function d(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}d=function(t,e,n,r){function i(e,n){d(t,e,(function(t){return this._invoke(e,n,t)}))}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},d(t,e,n,r)}function m(t,e){this.v=t,this.k=e}function h(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}const v={name:"Category",components:{BktCollapse:r.A,BktCategoriesControl:o.A},props:{filter_name:{type:String,default:"filters"},method_name:{type:String,default:"getFilteredTrades"}},data:function(){return{result:[],items:[]}},created:function(){this.getCategories()},mounted:function(){this.result=this.filters_categories},computed:{filters_categories:function(){return this.$store.getters[this.filter_name].categories},filters:function(){return this.$store.getters[this.filter_name]},categories:function(){return this.$store.getters.categories.sort((function(t,e){return e.subcategories.length-t.subcategories.length}))},loading:function(){return this.$store.getters.categories_loading}},methods:{saveFilters:function(){this.$store.dispatch("saveDataProperty",{module_key:"filters",state_key:this.filter_name,key:"categories",value:this.result},{root:!0}),this.$store.commit("saveFiltersProperty",{key:this.filter_name+"_categories",value:this.result}),this.$store.commit("closeModal","#categoryModal");var t=JSON.parse(JSON.stringify(this.filters));"bot_filters"===this.filter_name&&this.$store.dispatch("saveUserFilters",t),this.$store.dispatch(this.method_name,{page:1,filters:t})},clearFilters:function(){this.result=[],this.$store.dispatch("saveDataProperty",{module_key:"filters",state_key:this.filter_name,key:"categories",value:[]},{root:!0}),this.$store.commit("saveFiltersProperty",{key:this.filter_name+"_categories",value:[]}),this.$store.commit("closeModal","#categoryModal"),this.callMethod()},getCategories:function(){var t,e=this;return(t=a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getCategories").then((function(t){e.items=JSON.parse(JSON.stringify(e.categories))}));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){h(i,r,o,a,s,"next",t)}function s(t){h(i,r,o,a,s,"throw",t)}a(void 0)}))})()},closeModal:function(){var t=JSON.parse(JSON.stringify(this.filters.categories));this.result=t},callMethod:function(){var t=JSON.parse(JSON.stringify(this.filters));this.$store.dispatch(this.method_name,{page:1,filters:t})}}};const y=(0,n(14486).A)(v,(function(){var t=this,e=t._self._c;return e("bkt-modal",{ref:"categoryModal",attrs:{id:"categoryModal",title:"Выберите нужные категории",modal_class:"bkt-category-modal bkt-region-modal"},on:{"close-modal":t.closeModal,left_action:t.clearFilters,right_action:t.saveFilters},scopedSlots:t._u([{key:"body",fn:function(){return[t.loading?t._e():e("div",{staticClass:"bkt-wrapper-column bkt-gap-large"},[e("bkt-categories-control",{model:{value:t.result,callback:function(e){t.result=e},expression:"result"}})],1),t._v(" "),t.loading?e("div",{staticClass:"d-flex w-100 justify-content-center my-5"},[t._t("loading",(function(){return[e("div",{staticClass:"spinner-border",staticStyle:{color:"#2953ff","border-width":"2px"},attrs:{role:"status"}})]}))],2):t._e()]},proxy:!0}],null,!0)})}),[],!1,null,"591ecc30",null).exports},59145:(t,e,n)=>{n.d(e,{A:()=>o});const r={name:"PriceModal",components:{BktPricesControl:n(65741).A},props:{filter_name:{type:String,default:"filters"},method_name:{type:String,default:"getFilteredTrades"}},data:function(){return{loading:!1,prices:null,priceRange:"",template:{currentPrice:{min:"",max:""},startPrice:{min:"",max:""},minPrice:{min:"",max:""},percentageReduction:{min:"",max:""}}}},computed:{filters:function(){return this.$store.getters[this.filter_name]},filter:{get:function(){return JSON.parse(JSON.stringify(this.$store.getters[this.filter_name].prices))},set:function(t){this.prices=t}}},methods:{saveFilters:function(){this.$store.commit("saveFiltersProperty",{key:this.filter_name+"_prices",value:this.filter}),this.$store.dispatch("saveDataProperty",{module_key:"filters",state_key:this.filter_name,key:"prices",value:this.filter},{root:!0}),this.$store.commit("closeModal","#priceModal"),this.callMethod()},clearFilters:function(){this.$store.commit("saveFiltersProperty",{key:this.filter_name+"_prices",value:this.template}),this.$store.dispatch("saveDataProperty",{module_key:"filters",state_key:this.filter_name,key:"prices",value:this.template},{root:!0}),this.$store.commit("closeModal","#priceModal"),this.callMethod()},closeModal:function(){Object.assign(this.filter,JSON.parse(JSON.stringify(this.filters.prices)))},callMethod:function(){var t=JSON.parse(JSON.stringify(this.filters));"bot_filters"===this.filter_name&&this.$store.dispatch("saveUserFilters",t),this.$store.dispatch(this.method_name,{page:1,filters:t})}}};const o=(0,n(14486).A)(r,(function(){var t=this,e=t._self._c;return e("bkt-modal",{ref:"priceModal",attrs:{id:"priceModal",title:"Выберите стоимость объекта",modal_class:"bkt-filters-modal"},on:{left_action:t.clearFilters,right_action:t.saveFilters,"close-modal":t.closeModal},scopedSlots:t._u([{key:"body",fn:function(){return[e("bkt-prices-control",{model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0}])})}),[],!1,null,"fbb43a72",null).exports},72806:(t,e,n)=>{n.d(e,{A:()=>h});function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(){var t=u(),e=t.m(o),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===n||"GeneratorFunction"===(e.displayName||e.name))}var f={throw:1,return:2,break:3,continue:3};function d(t){var e,n;return function(r){e||(e={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(t,e){return n(r.a,f[t],e)},delegateYield:function(t,o,a){return e.resultName=o,n(r.d,i(t),a)},finish:function(t){return n(r.f,t)}},n=function(t,n,o){r.p=e.prev,r.n=e.next;try{return t(n,o)}finally{e.next=r.n}}),e.resultName&&(e[e.resultName]=r.v,e.resultName=void 0),e.sent=r.v,e.next=r.n;try{return t.call(this,e)}finally{r.p=e.prev,r.n=e.next}}}return(o=function(){return{wrap:function(e,n,r,o){return t.w(d(e),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,e){return new p(t,e)},AsyncIterator:l,async:function(t,e,n,o,i){return(r(e)?c:s)(d(t),e,n,o,i)},keys:a,values:i}})()}function i(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(r(t)+" is not iterable")}function a(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}}function s(t,e,n,r,o){var i=c(t,e,n,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function c(t,e,n,r,o){return new l(u().w(t,e,n,r),o||Promise)}function l(t,e){function n(r,o,i,a){try{var s=t[r](o),c=s.value;return c instanceof p?e.resolve(c.v).then((function(t){n("next",t,i,a)}),(function(t){n("throw",t,i,a)})):e.resolve(c).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(f(l.prototype),f(l.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),f(this,"_invoke",(function(t,o,i){function a(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(a,a):a()}),!0)}function u(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return f(l,"_invoke",function(n,r,o){var i,s,c,l=0,u=o||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return i=e,s=0,c=t,p.n=n,a}};function d(n,r){for(s=n,c=r,e=0;!f&&l&&!o&&e<u.length;e++){var o,i=u[e],d=p.p,m=i[2];n>3?(o=m===r)&&(c=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=t):i[0]<=d&&((o=n<2&&d<i[1])?(s=0,p.v=r,p.n=i[1]):d<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,p.n=m,s=0))}if(o||n>1)return a;throw f=!0,r}return function(o,u,m){if(l>1)throw TypeError("Generator is already running");for(f&&1===u&&d(u,m),s=u,c=m;(e=s<2?t:c)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,c)):p.n=c:p.v=c);try{if(l=2,i){if(s||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=i.return)&&e.call(i),s<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=t}else if((e=(f=p.n<0)?c:n.call(r,p))!==a)break}catch(e){i=t,s=1,c=e}finally{l=1}}return{value:e,done:f}}}(n,o,i),!0),l}var a={};function s(){}function c(){}function l(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(f(e={},r,(function(){return this})),e),d=l.prototype=s.prototype=Object.create(p);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,f(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return c.prototype=l,f(d,"constructor",l),f(l,"constructor",c),c.displayName="GeneratorFunction",f(l,o,"GeneratorFunction"),f(d),f(d,o,"Generator"),f(d,r,(function(){return this})),f(d,"toString",(function(){return"[object Generator]"})),(u=function(){return{w:i,m}})()}function f(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}f=function(t,e,n,r){function i(e,n){f(t,e,(function(t){return this._invoke(e,n,t)}))}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},f(t,e,n,r)}function p(t,e){this.v=t,this.k=e}function d(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}const m={name:"RegionModal",components:{BktRegionsControl:n(69968).A},props:{filter_name:{type:String,default:"filters"},method_name:{type:String,default:"getFilteredTrades"}},data:function(){return{regionGroups:[],selectedRegion:null,result:[]}},created:function(){this.getRegions()},computed:{filters_regions:function(){return this.$store.getters[this.filter_name].regions},filters:function(){return this.$store.getters[this.filter_name]},regions:function(){return this.$store.getters.regions},loading:function(){return this.$store.getters.regions_loading},model:{get:function(){return JSON.parse(JSON.stringify(this.filters_regions))},set:function(t){this.result=t}}},methods:{saveFilters:function(){this.$store.commit("saveFiltersProperty",{key:this.filter_name+"_regions",value:this.result}),this.$store.dispatch("saveDataProperty",{module_key:"filters",state_key:this.filter_name,key:"regions",value:this.result},{root:!0}),this.$store.commit("closeModal","#regionModal"),this.callMethod()},clearFilters:function(){this.model=[],this.$store.commit("saveFiltersProperty",{key:this.filter_name+"_regions",value:[]}),this.$store.dispatch("saveDataProperty",{module_key:"filters",state_key:this.filter_name,key:"regions",value:[]},{root:!0}),this.$store.commit("closeModal","#regionModal"),this.callMethod()},getRegions:function(){var t,e=this;return(t=o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getRegions").then((function(t){e.regionGroups=JSON.parse(JSON.stringify(e.regions)),e.selectedRegion=e.regionGroups[0]}));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){d(i,r,o,a,s,"next",t)}function s(t){d(i,r,o,a,s,"throw",t)}a(void 0)}))})()},closeModal:function(){var t=this,e=JSON.parse(JSON.stringify(this.filters.regions));this.model.splice(0),e.forEach((function(e){t.model.push(e)}))},callMethod:function(){var t=JSON.parse(JSON.stringify(this.filters));"bot_filters"===this.filter_name&&this.$store.dispatch("saveUserFilters",t),this.$store.dispatch(this.method_name,{page:1,filters:t})}}};const h=(0,n(14486).A)(m,(function(){var t=this,e=t._self._c;return e("bkt-modal",{ref:"regionModal",attrs:{id:"regionModal",modal_class:"bkt-region-modal bkt-filters-modal",title:"Выберите регион",loading:t.loading},on:{"close-modal":t.closeModal,left_action:t.clearFilters,right_action:t.saveFilters},scopedSlots:t._u([{key:"body",fn:function(n){n.invalid;return[t.loading?t._e():e("div",{staticClass:"bkt-wrapper-column bkt-gap-large"},[e("bkt-regions-control",{model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1),t._v(" "),t.loading?e("div",{staticClass:"d-flex w-100 justify-content-center my-5"},[t._t("loading",(function(){return[e("div",{staticClass:"spinner-border",staticStyle:{color:"#2953ff","border-width":"2px"},attrs:{role:"status"}})]}))],2):t._e()]}}],null,!0)})}),[],!1,null,"c330b4b0",null).exports},57418:(t,e,n)=>{n.d(e,{A:()=>a});const r={name:"TradeTypesControl",props:{value:{type:null}},model:{prop:"value",event:"input"},data:function(){return{loading:!1,auctionTypes:[{description:"Открытый аукцион",title:"OpenAuction"},{description:"Открытый конкурс",title:"OpenConcours"},{description:"Публичное предложение",title:"PublicOffer"},{description:"Закрытый аукцион",title:"CloseAuction"},{description:"Закрытый конкурс",title:"CloseConcours"},{description:"Закрытое публичное предложение",title:"ClosePublicOffer"},{title:"EA",description:"Электронный аукцион"},{title:"BOC",description:"Продажа без объявления цены"},{title:"EK",description:"Электронный конкурс"},{title:"SA",description:"Специализированный аукцион"},{title:"IPS",description:"Сообщение о предоставлении (реализации)"},{title:"SMP",description:"Продажа по минимально допустимой цене"},{title:"PrP",description:"Прямая продажа"},{title:"PA",description:"Аукцион"},{title:"BC",description:"Электронный аукцион за долю"},{title:"PK",description:"Конкурс"},{title:"IO",description:"Предложение о заключении концессионного соглашения"},{title:"OIP",description:" Отбор инвестиционных проектов"},{title:"PPZ",description:"Публичное предложение (ЗК РФ) "},{title:"GHP",description:"Решение о реализации проекта ГЧП, проекта МЧП"},{title:"BCU",description:"Продажа без объявления цены  (цессия)"},{title:"PPU",description:"Публичное предложение (цессия)"}],model:[]}},mounted:function(){this.model=this.value},watch:{value:function(t,e){this.model=t,this.saveValue()}},methods:{saveValue:function(){this.$emit("input",this.model)},chooseAuctionType:function(t){this.model.tradeType=t},toggleAuctionType:function(t){var e=this.model.findIndex((function(e){return e==t}));e<0?this.model.push(t):this.model.splice(e,1),this.saveValue()}}};var o=n(14486);const i={name:"TradeTypeModal",components:{BktTradeTypesControl:(0,o.A)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bkt-form wide w-100 mx-auto align-items-start"},[e("div",{staticClass:"col-12 p-0"},[e("div",{staticClass:"bkt-form m-0"},[t._m(0),t._v(" "),e("div",{staticClass:"col-12"},[e("div",{staticClass:"bkt-form bkt-wrapper bkt-auctions-types"},t._l(t.auctionTypes,(function(n){return e("div",{staticClass:"bkt-auctions-type flex-fill"},[e("button",{staticClass:"bkt-auctions-type__card bkt-auctions-type__title bkt-bg-body",class:[t.model.includes(n.title)?"bkt-border-primary":"bkt-border-body"],on:{click:function(e){return t.toggleAuctionType(n.title)}}},[t._v("\n                            "+t._s(n.description)+"\n                        ")])])})),0)])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"col-12"},[t("h5",{staticClass:"bkt-form__label"},[this._v("вид торгов")])])}],!1,null,"7f7bcb78",null).exports},props:{filter_name:{type:String,default:"filters"},method_name:{type:String,default:"getFilteredTrades"}},data:function(){return{loading:!1,result:[],method_params:{type:"filters"}}},computed:{filters:function(){return this.$store.getters[this.filter_name]},filter:{get:function(){return JSON.parse(JSON.stringify(this.$store.getters[this.filter_name].mainParams.tradeTypes))},set:function(t){this.result=t}}},methods:{saveFilters:function(){var t=JSON.parse(JSON.stringify(this.filters.mainParams));t.tradeTypes=this.result,this.$store.commit("saveFiltersProperty",{key:this.filter_name+"_mainParams",value:t}),this.$store.dispatch("saveDataProperty",{module_key:"filters",state_key:this.filter_name,key:"mainParams.tradeTypes",value:this.result},{root:!0}),this.$store.commit("closeModal","#tradeTypesModal"),this.callMethod()},clearFilters:function(){var t=JSON.parse(JSON.stringify(this.filters.mainParams));t.tradeTypes=[],this.filter=[],this.$store.commit("saveFiltersProperty",{key:this.filter_name+"_mainParams",value:t}),this.$store.dispatch("saveDataProperty",{module_key:"filters",state_key:this.filter_name,key:"mainParams.tradeTypes",value:[]},{root:!0}),this.$store.commit("closeModal","#tradeTypesModal"),this.callMethod()},closeModal:function(){var t=this,e=JSON.parse(JSON.stringify(this.filters.mainParams.tradeTypes));this.filter.splice(0),e.forEach((function(e){t.filter.push(e)}))},callMethod:function(){var t=JSON.parse(JSON.stringify(this.filters));"bot_filters"===this.filter_name&&this.$store.dispatch("saveUserFilters",t),this.$store.dispatch(this.method_name,{page:1,filters:t})}}};const a=(0,o.A)(i,(function(){var t=this,e=t._self._c;return e("bkt-modal",{ref:"tradeTypesModal",attrs:{id:"tradeTypesModal",title:"Выберите виды торгов",modal_class:"bkt-filters-modal"},on:{"close-modal":t.closeModal,left_action:t.clearFilters,right_action:t.saveFilters},scopedSlots:t._u([{key:"body",fn:function(){return[e("bkt-trade-types-control",{model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0}])})}),[],!1,null,"19c588d6",null).exports}}]);
//# sourceMappingURL=bot-main.js.map