"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[945],{60643:(t,a,s)=>{s.r(a),s.d(a,{default:()=>v});var i=s(95353),e=s(72505),r=s.n(e);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,a){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),s.push.apply(s,i)}return s}function c(t){for(var a=1;a<arguments.length;a++){var s=null!=arguments[a]?arguments[a]:{};a%2?n(Object(s),!0).forEach((function(a){l(t,a,s[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))}))}return t}function l(t,a,s){return(a=function(t){var a=function(t,a){if("object"!==o(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var i=s.call(t,a||"default");if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"===o(a)?a:String(a)}(a))in t?Object.defineProperty(t,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[a]=s,t}const d={name:"Dashboard",computed:c(c({},(0,i.L8)(["newLotsCount","newLotsCount","lotsCount","usersCount","newUsersCount","watermark"])),{},{trialPeriod:{get:function(){return this.$store.getters.trialPeriod},set:function(t){this.$store.commit("setTrialPeriod",t)}},botTrialPeriod:{get:function(){return this.$store.getters.botTrialPeriod},set:function(t){this.$store.commit("setBotTrialPeriod",t)}}}),created:function(){this.getDashboardData()},methods:c(c(c({},(0,i.PY)(["setTrialPeriod","setBotTrialPeriod"])),(0,i.i0)(["getDashboardData"])),{},{selectFile:function(){this.$refs.fileSelect.click()},saveWatermark:function(){var t=this,a=this.$refs.fileSelect.files[0],s=new FormData;void 0!==a&&s.append("image",a),s.append("text",this.watermark.text),r().post("/api/admin/change-watermark",s).then((function(a){t.$store.commit("setModal",{data:"success",text:"Водяной знак успешно изменен"}),t.getDashboardData()})).catch((function(a){t.$store.commit("setModal",{data:"error",text:a.response.data.detail})}))},saveTrialPeriod:function(){var t=this;r().post("/api/admin/change-trial-period",{trialPeriod:this.trialPeriod}).then((function(a){t.$store.commit("setModal",{data:"success",text:"Тестовый период успешно изменен"})})).catch((function(a){t.$store.commit("setModal",{data:"error",text:a.response.data.detail})}))},saveBotTrialPeriod:function(){var t=this;r().post("/api/admin/change-bot-trial-period",{botTrialPeriod:this.botTrialPeriod}).then((function(a){t.$store.commit("setModal",{data:"success",text:"Тестовый период Telegram бота успешно изменен"})})).catch((function(a){t.$store.commit("setModal",{data:"error",text:a.response.data.detail})}))}})};const v=(0,s(14486).A)(d,(function(){var t=this,a=t._self._c;return a("fragment",[a("div",{staticClass:"content-header"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-sm-6"},[a("h1",{staticClass:"m-0"},[t._v("Статистика")])])])])]),t._v(" "),a("section",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-3 col-md-6 col-12"},[a("div",{staticClass:"small-box bg-info"},[a("div",{staticClass:"inner"},[a("h3",[t._v(t._s(t.usersCount))]),t._v(" "),a("p",[t._v("Пользователи")])]),t._v(" "),a("div",{staticClass:"icon"},[a("i",{staticClass:"ion ion-person"})]),t._v(" "),a("router-link",{staticClass:"small-box-footer",attrs:{to:"/admin/users"}},[t._v("\n                            Перейти\n                            "),a("i",{staticClass:"fas fa-arrow-circle-right"})])],1)]),t._v(" "),a("div",{staticClass:"col-lg-3 col-md-6 col-12"},[a("div",{staticClass:"small-box bg-gradient-success"},[a("div",{staticClass:"inner"},[a("h3",[t._v(t._s(t.newUsersCount))]),t._v(" "),a("p",[t._v("Новые регистрации")])]),t._v(" "),a("div",{staticClass:"icon"},[a("i",{staticClass:"fas fa-user-plus"})]),t._v(" "),a("router-link",{staticClass:"small-box-footer",attrs:{to:"/admin/users"}},[t._v("\n                            Перейти\n                            "),a("i",{staticClass:"fas fa-arrow-circle-right"})])],1)]),t._v(" "),a("div",{staticClass:"col-lg-3 col-md-6 col-12"},[a("div",{staticClass:"small-box bg-gradient-warning"},[a("div",{staticClass:"inner"},[a("h3",[t._v(t._s(t.lotsCount))]),t._v(" "),a("p",[t._v("Лоты")])]),t._v(" "),a("div",{staticClass:"icon"},[a("i",{staticClass:"fas fa-bookmark"})]),t._v(" "),a("router-link",{staticClass:"small-box-footer",attrs:{to:"/admin/lots"}},[t._v("\n                            Перейти\n                            "),a("i",{staticClass:"fas fa-arrow-circle-right"})])],1)]),t._v(" "),a("div",{staticClass:"col-lg-3 col-md-6 col-12"},[a("div",{staticClass:"small-box bg-gradient-danger"},[a("div",{staticClass:"inner"},[a("h3",[t._v(t._s(t.newLotsCount))]),t._v(" "),a("p",[t._v("Новые лоты")])]),t._v(" "),a("div",{staticClass:"icon"},[a("i",{staticClass:"fas fa-bookmark"})]),t._v(" "),a("router-link",{staticClass:"small-box-footer",attrs:{to:"/admin/lots"}},[t._v("\n                            Перейти\n                            "),a("i",{staticClass:"fas fa-arrow-circle-right"})])],1)])])])]),t._v(" "),a("div",{directives:[{name:"can",rawName:"v-can",value:"change-watermark",expression:"'change-watermark'"}],staticClass:"content-header"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-sm-6"},[a("h1",{staticClass:"m-0"},[t._v("Изменение фото и текста водяного знака")])])])])]),t._v(" "),a("section",{directives:[{name:"can",rawName:"v-can",value:"change-watermark",expression:"'change-watermark'"}],staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card card-primary"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Текст водяного знака")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.watermark.text,expression:"watermark.text"}],staticClass:"form-control",attrs:{required:"",name:"text",type:"text"},domProps:{value:t.watermark.text},on:{input:function(a){a.target.composing||t.$set(t.watermark,"text",a.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("Изображение")]),t._v(" "),a("input",{ref:"fileSelect",staticStyle:{display:"none"},attrs:{type:"file"}}),t._v(" "),a("img",{attrs:{src:t.watermark.image,width:"15%",alt:"image"}}),t._v(" "),a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.selectFile()}}},[a("i",{staticClass:"fas fa-plus"})])]),t._v(" "),a("button",{staticClass:"btn btn-success float-right",attrs:{type:"submit"},on:{click:function(a){return t.saveWatermark()}}},[t._v("\n                                Сохранить\n                            ")])])])])])])]),t._v(" "),a("div",{directives:[{name:"can",rawName:"v-can",value:"change-trial-period",expression:"'change-trial-period'"}],staticClass:"content-header"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-sm-6"},[a("h1",{staticClass:"m-0"},[t._v("Изменение длительности тестового периода")])])])])]),t._v(" "),a("section",{directives:[{name:"can",rawName:"v-can",value:"change-trial-period",expression:"'change-trial-period'"}],staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card card-primary"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Длительность тестового периода")]),t._v(" "),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.trialPeriod,expression:"trialPeriod"}],staticClass:"form-control",attrs:{name:"trialPeriod",type:"number",min:"0"},domProps:{value:t.trialPeriod},on:{input:function(a){a.target.composing||(t.trialPeriod=a.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("дней")])])])]),t._v(" "),a("button",{staticClass:"btn btn-success float-right",attrs:{type:"submit"},on:{click:function(a){return t.saveTrialPeriod()}}},[t._v("\n                                Сохранить\n                            ")])])])]),t._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card card-primary"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Длительность тестового периода Telegram бота")]),t._v(" "),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.botTrialPeriod,expression:"botTrialPeriod"}],staticClass:"form-control",attrs:{name:"trialPeriod",type:"number",min:"0"},domProps:{value:t.botTrialPeriod},on:{input:function(a){a.target.composing||(t.botTrialPeriod=a.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("дней")])])])]),t._v(" "),a("button",{staticClass:"btn btn-success float-right",attrs:{type:"submit"},on:{click:function(a){return t.saveBotTrialPeriod()}}},[t._v("\n                                Сохранить\n                            ")])])])])])])])])}),[],!1,null,"14c5fe66",null).exports}}]);
//# sourceMappingURL=dashboard.js.map